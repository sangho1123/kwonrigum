{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.2/components/ListingMap.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef } from \"react\";\n\ninterface ListingMapProps {\n  lat?: number | string | null;\n  lng?: number | string | null;\n}\n\nexport default function ListingMap({ lat, lng }: ListingMapProps) {\n  const mapRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    // üí° Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏúºÎ©¥ ÏßÄÎèÑ ÏÉùÏÑ±ÏùÑ ÏïÑÏòà Ï§ëÎã®ÌïòÏó¨ ÏóêÎü¨(reading '0')Î•º Î∞©ÏßÄ\n    if (!mapRef.current || !window.naver || !lat || !lng) return;\n\n    const latNum = Number(lat);\n    const lngNum = Number(lng);\n\n    // Ïà´ÏûêÍ∞Ä ÏïÑÎãàÎ©¥ Ï§ëÎã®\n    if (isNaN(latNum) || isNaN(lngNum)) return;\n\n    const center = new window.naver.maps.LatLng(latNum, lngNum);\n    \n    const map = new window.naver.maps.Map(mapRef.current, {\n      center: center,\n      zoom: 16,\n    });\n\n    new window.naver.maps.Marker({\n      position: center,\n      map: map,\n    });\n  }, [lat, lng]);\n\n  return <div ref={mapRef} className=\"w-full h-full bg-gray-100 rounded-xl\" />;\n}"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AASe,SAAS,WAAW,EAAE,GAAG,EAAE,GAAG,EAAmB;;IAC9D,MAAM,SAAS,IAAA,uKAAM,EAAiB;IAEtC,IAAA,0KAAS;gCAAC;YACR,iDAAiD;YACjD,IAAI,CAAC,OAAO,OAAO,IAAI,CAAC,OAAO,KAAK,IAAI,CAAC,OAAO,CAAC,KAAK;YAEtD,MAAM,SAAS,OAAO;YACtB,MAAM,SAAS,OAAO;YAEtB,aAAa;YACb,IAAI,MAAM,WAAW,MAAM,SAAS;YAEpC,MAAM,SAAS,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ;YAEpD,MAAM,MAAM,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,OAAO,EAAE;gBACpD,QAAQ;gBACR,MAAM;YACR;YAEA,IAAI,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC;gBAC3B,UAAU;gBACV,KAAK;YACP;QACF;+BAAG;QAAC;QAAK;KAAI;IAEb,qBAAO,6LAAC;QAAI,KAAK;QAAQ,WAAU;;;;;;AACrC;GA3BwB;KAAA","debugId":null}},
    {"offset": {"line": 59, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.2/app/listing/%5Bid%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport ListingMap from \"@/components/ListingMap\";\r\nimport Image from \"next/image\";\r\nimport Link from \"next/link\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { use, useEffect, useState } from \"react\";\r\n\r\n// Í∏àÏï° Ìè¨Îß∑ÌåÖ Ïú†Ìã∏Î¶¨Ìã∞\r\nconst formatMoney = (amount: number | null | undefined) => {\r\n  if (amount === null || amount === undefined || amount === 0) return \"ÏóÜÏùå\";\r\n  if (amount >= 10000) {\r\n    const eok = Math.floor(amount / 10000);\r\n    const man = amount % 10000;\r\n    return `${eok}Ïñµ ${man > 0 ? `${man.toLocaleString()}Îßå` : \"\"}Ïõê`;\r\n  }\r\n  return `${amount.toLocaleString()}ÎßåÏõê`;\r\n};\r\n\r\nexport default function ListingDetailPage({ params }: { params: Promise<{ id: string }> }) {\r\n  const { id } = use(params); // Next.js 15 params Ïñ∏ÎûòÌïë\r\n  const router = useRouter();\r\n  \r\n  const [listing, setListing] = useState<any>(null);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [activeImage, setActiveImage] = useState(0);\r\n\r\n  useEffect(() => {\r\n    async function fetchListing() {\r\n      try {\r\n        const res = await fetch(`/api/listings/${id}`);\r\n        if (!res.ok) throw new Error(\"Îß§Î¨º Î°úÎìú Ïã§Ìå®\");\r\n        const data = await res.json();\r\n        setListing(data);\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n    fetchListing();\r\n  }, [id]);\r\n\r\n  if (isLoading) return <div className=\"min-h-screen flex items-center justify-center\">Îß§Î¨º Ï†ïÎ≥¥Î•º Î∂àÎü¨Ïò§Îäî Ï§ë...</div>;\r\n  if (!listing) return <div className=\"min-h-screen flex items-center justify-center\">Ï°¥Ïû¨ÌïòÏßÄ ÏïäÎäî Îß§Î¨ºÏûÖÎãàÎã§.</div>;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 pb-20\">\r\n      {/* 1. Ïù¥ÎØ∏ÏßÄ Í∞§Îü¨Î¶¨ ÏÑπÏÖò */}\r\n      <div className=\"bg-black relative h-[400px] w-full\">\r\n        {listing.images && listing.images.length > 0 ? (\r\n          <>\r\n            <Image\r\n              src={listing.images[activeImage]}\r\n              alt=\"Îß§Î¨º Ïù¥ÎØ∏ÏßÄ\"\r\n              fill\r\n              className=\"object-contain\"\r\n              priority\r\n            />\r\n            {/* Ïç∏ÎÑ§Ïùº ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */}\r\n            <div className=\"absolute bottom-4 left-0 right-0 flex justify-center gap-2 px-4 overflow-x-auto\">\r\n              {listing.images.map((img: string, idx: number) => (\r\n                <button\r\n                  key={idx}\r\n                  onClick={() => setActiveImage(idx)}\r\n                  className={`relative w-16 h-16 border-2 rounded-md overflow-hidden transition-all ${\r\n                    activeImage === idx ? \"border-white scale-110\" : \"border-transparent opacity-70\"\r\n                  }`}\r\n                >\r\n                  <Image src={img} alt=\"Ïç∏ÎÑ§Ïùº\" fill className=\"object-cover\" />\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"w-full h-full flex items-center justify-center text-gray-500\">\r\n            Ïù¥ÎØ∏ÏßÄ ÏóÜÏùå\r\n          </div>\r\n        )}\r\n        <button\r\n          onClick={() => router.back()}\r\n          className=\"absolute top-4 left-4 bg-white/90 p-2 rounded-full shadow-lg hover:bg-white transition\"\r\n        >\r\n          ‚¨ÖÔ∏è Îí§Î°úÍ∞ÄÍ∏∞\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"max-w-5xl mx-auto px-4 -mt-8 relative z-10\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n          \r\n          {/* 2. Ï¢åÏ∏°: ÌïµÏã¨ Ï†ïÎ≥¥ Î∞è ÏßÄÎèÑ */}\r\n          <div className=\"md:col-span-2 space-y-6\">\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100\">\r\n              <div className=\"flex items-center gap-2 mb-2\">\r\n                <span className=\"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs font-bold rounded-md\">\r\n                  {listing.category || \"ÏóÖÏ¢ÖÎØ∏Ï†ï\"}\r\n                </span>\r\n                <span className=\"text-gray-500 text-xs\">{listing.address_area}</span>\r\n              </div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">{listing.title}</h1>\r\n              \r\n              {/* ÌïµÏã¨ Í∞ÄÍ≤© Ï†ïÎ≥¥ Grid */}\r\n              <div className=\"grid grid-cols-3 gap-4 bg-gray-50 p-4 rounded-xl border border-gray-100\">\r\n                <div className=\"text-center border-r border-gray-200\">\r\n                  <p className=\"text-xs text-gray-500 mb-1\">Í∂åÎ¶¨Í∏à</p>\r\n                  <p className=\"text-lg font-bold text-indigo-600\">{formatMoney(listing.premium)}</p>\r\n                </div>\r\n                <div className=\"text-center border-r border-gray-200\">\r\n                  <p className=\"text-xs text-gray-500 mb-1\">Î≥¥Ï¶ùÍ∏à</p>\r\n                  <p className=\"text-lg font-bold text-gray-900\">{formatMoney(listing.deposit)}</p>\r\n                </div>\r\n                <div className=\"text-center\">\r\n                  <p className=\"text-xs text-gray-500 mb-1\">ÏõîÏÑ∏</p>\r\n                  <p className=\"text-lg font-bold text-gray-900\">{formatMoney(listing.rent)}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100\">\r\n              <h2 className=\"text-xl font-bold mb-4\">üìù Îß§Î¨º ÏÉÅÏÑ∏ ÏÑ§Î™Ö</h2>\r\n              <p className=\"text-gray-700 whitespace-pre-wrap leading-relaxed min-h-[100px]\">\r\n                {listing.description || \"ÏÉÅÏÑ∏ ÏÑ§Î™ÖÏù¥ ÏóÜÏäµÎãàÎã§.\"}\r\n              </p>\r\n            </div>\r\n\r\n            {/* ÏúÑÏπò Î∞è ÏßÄÎèÑ */}\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100\">\r\n              <h2 className=\"text-xl font-bold mb-4\">üìç ÏúÑÏπò ÌôïÏù∏</h2>\r\n              <div className=\"w-full h-[300px] rounded-xl overflow-hidden bg-gray-100 border border-gray-200\">\r\n                <ListingMap lat={listing.lat} lng={listing.lng} />\r\n              </div>\r\n              <p className=\"text-sm text-gray-500 mt-3 text-center\">\r\n                * ÏÉÅÏÑ∏ Ï£ºÏÜåÎäî Îß§ÎèÑÏù∏Ïùò ÏöîÏ≤≠Ïóê ÏùòÌï¥ ÏùºÎ∂Ä ÎßàÏä§ÌÇπ Ï≤òÎ¶¨Îê† Ïàò ÏûàÏäµÎãàÎã§.\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* 3. Ïö∞Ï∏°: ÏàòÏùµÎ•† & Î∂ÑÏÑù Î¶¨Ìè¨Ìä∏ */}\r\n          <div className=\"md:col-span-1 space-y-6\">\r\n            {/* Îã¥ÎãπÏûê/Î¨∏Ïùò Ïπ¥Îìú */}\r\n            <div className=\"bg-white p-6 rounded-2xl shadow-sm border border-gray-100 sticky top-4\">\r\n              <h3 className=\"text-lg font-bold mb-4\">üìû Îß§Î¨º Î¨∏Ïùò</h3>\r\n              <button \r\n                onClick={() => alert(\"Ï§ÄÎπÑ Ï§ëÏù∏ Í∏∞Îä•ÏûÖÎãàÎã§.\")}\r\n                className=\"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-700 transition shadow-lg shadow-indigo-200 mb-3\"\r\n              >\r\n                Îß§ÎèÑÏù∏ÏóêÍ≤å Ïó∞ÎùΩÌïòÍ∏∞\r\n              </button>\r\n              <button \r\n                className=\"w-full py-3 bg-white border border-gray-300 text-gray-700 font-bold rounded-xl hover:bg-gray-50 transition\"\r\n              >\r\n                Í¥ÄÏã¨ Îß§Î¨º Îì±Î°ù ‚ù§Ô∏è\r\n              </button>\r\n\r\n              <hr className=\"my-6 border-gray-100\" />\r\n\r\n              {/* üìä ÏÉÅÍ∂å Î∂ÑÏÑù Î¶¨Ìè¨Ìä∏ Î≤ÑÌäº (Ï∂©Îèå Ìï¥Í≤∞ Î∞è Í∏∞Îä• Î≥µÍµ¨) */}\r\n              <Link \r\n                href={`/analysis?lat=${listing.lat}&lng=${listing.lng}&address=${encodeURIComponent(listing.address_area || \"ÏÑúÏö∏\")}&category=${encodeURIComponent(listing.category || \"ÏùºÎ∞ò\")}`}\r\n                className=\"block w-full group\"\r\n              >\r\n                <div className=\"border border-indigo-200 bg-indigo-50 hover:bg-indigo-100 p-4 rounded-2xl flex items-center justify-between transition cursor-pointer\">\r\n                  <div>\r\n                    <p className=\"font-bold text-indigo-900 text-sm mb-1\">üìä ÏÉÅÍ∂å ÏûÖÏßÄ Î∂ÑÏÑù</p>\r\n                    <p className=\"text-[11px] text-indigo-700\">Ï£ºÎ≥Ä Ïú†ÎèôÏù∏Íµ¨/Îß§Ï∂ú Îç∞Ïù¥ÌÑ∞ ÌôïÏù∏</p>\r\n                  </div>\r\n                  <span className=\"text-2xl group-hover:scale-110 transition-transform\">üëâ</span>\r\n                </div>\r\n              </Link>\r\n\r\n              {/* Ï∂îÍ∞Ä Ï†ïÎ≥¥ */}\r\n              <div className=\"mt-6 space-y-3\">\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-500\">Í¥ÄÎ¶¨ÎπÑ</span>\r\n                  <span className=\"font-bold\">{formatMoney(listing.admin_cost)}</span>\r\n                </div>\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-500\">Ï∏µÏàò</span>\r\n                  <span className=\"font-bold\">{listing.floor}Ï∏µ</span>\r\n                </div>\r\n                <div className=\"flex justify-between text-sm\">\r\n                  <span className=\"text-gray-500\">Î©¥Ï†Å</span>\r\n                  <span className=\"font-bold\">{listing.area}Ìèâ</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}