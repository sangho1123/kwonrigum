{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/RangeBar.tsx"],"sourcesContent":["\"use client\";\n\nimport { CSSProperties, useEffect, useMemo, useState } from \"react\";\n\nfunction clamp(n: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, n));\n}\nconst fmt = (n: number) => new Intl.NumberFormat(\"ko-KR\").format(n);\n\nexport default function RangeBar({\n  label,\n  min,\n  max,\n  step = 100_000,\n  valueMin,\n  valueMax,\n  onChange,\n  barHeight = 44,   // ‚úÖ Ìä∏Îûô/ÏÜêÏû°Ïù¥ ÎÜíÏù¥(px). ÏÜêÏû°Ïù¥Í∞Ä ÏÑ∏Î°úÎ°ú ÍΩâ Ï∞®ÎèÑÎ°ù ÎèôÏùº ÏÇ¨Ïö©\n  thumbWidth = 12, // ‚úÖ ÏÜêÏû°Ïù¥ Í∞ÄÎ°ú Ìè≠(px) ‚Äî ÏÑ∏Î°úÎ°ú Í∏¥ ÎßâÎåÄ ÎäêÎÇå\n  thumbRadius = 6, // ‚úÖ Îë•Í∑º ÏÇ¨Í∞Å Î™®ÏÑúÎ¶¨\n}: {\n  label: string;\n  min: number;\n  max: number;\n  step?: number;\n  valueMin?: number;\n  valueMax?: number;\n  onChange: (v: { min?: number; max?: number }) => void;\n  barHeight?: number;\n  thumbWidth?: number;\n  thumbRadius?: number;\n}) {\n  const [lo, setLo] = useState<number>(valueMin ?? min);\n  const [hi, setHi] = useState<number>(valueMax ?? max);\n\n  useEffect(() => setLo(valueMin ?? min), [valueMin, min]);\n  useEffect(() => setHi(valueMax ?? max), [valueMax, max]);\n\n  const left = useMemo(() => ((lo - min) / (max - min)) * 100, [lo, min, max]);\n  const right = useMemo(\n    () => 100 - ((hi - min) / (max - min)) * 100,\n    [hi, min, max]\n  );\n\n  const changeLo = (v: number) => {\n    const next = clamp(v, min, hi);\n    setLo(next);\n    onChange({ min: next });\n  };\n  const changeHi = (v: number) => {\n    const next = clamp(v, lo, max);\n    setHi(next);\n    onChange({ max: next });\n  };\n\n  // CSS Î≥ÄÏàòÎ°ú ÎÜíÏù¥/Ìè≠/Î™®ÏÑúÎ¶¨ Ï†ÑÎã¨ ‚Üí thumbÍ∞Ä Ìä∏Îûô ÎÜíÏù¥Î•º Í∑∏ÎåÄÎ°ú Ï±ÑÏõÄ\n  const vars: CSSProperties = {\n    // @ts-expect-error custom props\n    \"--bar-h\": `${barHeight}px`,\n    // @ts-expect-error custom props\n    \"--thumb-w\": `${thumbWidth}px`,\n    // @ts-expect-error custom props\n    \"--thumb-r\": `${thumbRadius}px`,\n  };\n\n  return (\n    <div className=\"w-full\" style={vars}>\n      <div className=\"flex items-center justify-between text-sm mb-1\">\n        <span className=\"text-neutral-700\">{label}</span>\n        <span className=\"text-neutral-600\">\n          {fmt(lo)} ~ {fmt(hi)} Ïõê\n        </span>\n      </div>\n\n      <div className=\"relative\" style={{ height: \"var(--bar-h)\" }}>\n        {/* Ìä∏Îûô */}\n        <div className=\"absolute inset-0 rounded-full bg-neutral-200\" />\n        {/* ÏÑ†ÌÉù ÏòÅÏó≠ */}\n        <div\n          className=\"absolute inset-y-0 bg-sky-200 rounded-full\"\n          style={{ left: `${left}%`, right: `${right}%` }}\n        />\n\n        {/* ÏµúÏÜå/ÏµúÎåÄ Ïä¨ÎùºÏù¥Îçî (Í≤πÏπ®) */}\n        <input\n          type=\"range\"\n          aria-label={`${label} ÏµúÏÜåÍ∞í`}\n          min={min}\n          max={max}\n          step={step}\n          value={lo}\n          onChange={(e) => changeLo(Number(e.target.value))}\n          className=\"range\"\n          style={{ zIndex: 30 }}\n        />\n        <input\n          type=\"range\"\n          aria-label={`${label} ÏµúÎåÄÍ∞í`}\n          min={min}\n          max={max}\n          step={step}\n          value={hi}\n          onChange={(e) => changeHi(Number(e.target.value))}\n          className=\"range\"\n          style={{ zIndex: 40 }}\n        />\n\n        {/* Ïä§ÌÉÄÏùº: Ìä∏ÎûôÏùÄ Ïù¥Î≤§Ìä∏ Ï∞®Îã®, ThumbÎßå ÎìúÎûòÍ∑∏.\n           ThumbÎ•º 'ÏÑ∏Î°úÎ°ú Í∏¥ Îë•Í∑º ÏÇ¨Í∞ÅÌòï'ÏúºÎ°ú ÌëúÏãú(Ìä∏Îûô ÎÜíÏù¥=thumb ÎÜíÏù¥). */}\n        <style jsx>{`\n          .range {\n            position: absolute;\n            inset: 0;\n            width: 100%;\n            background: transparent;\n            appearance: none;\n            pointer-events: none; /* Ìä∏Îûô ÌÅ¥Î¶≠ Î∞©ÏßÄ */\n          }\n          /* WebKit */\n          .range::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            height: var(--bar-h);  /* ‚úÖ Ìä∏Îûô ÎÜíÏù¥ÏôÄ ÎèôÏùº ‚Üí ÏúÑÏïÑÎûò ÍΩâ Ï±ÑÏõÄ */\n            width: var(--thumb-w); /* ‚úÖ Ï¢ÅÍ≥† ÏÑ∏Î°úÎ°ú Í∏¥ ÏÜêÏû°Ïù¥ */\n            border-radius: var(--thumb-r);\n            background: #0ea5e9;    /* sky-500 */\n            border: 2px solid #fff; /* ÎåÄÎπÑ */\n            box-shadow: 0 1px 2px rgba(0,0,0,.12);\n            pointer-events: all;    /* ThumbÎßå Ïù¥Î≤§Ìä∏ ÌóàÏö© */\n            cursor: ew-resize;\n          }\n          .range::-webkit-slider-runnable-track {\n            height: var(--bar-h);\n            background: transparent;\n          }\n          .range:focus-visible::-webkit-slider-thumb {\n            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.35);\n          }\n\n          /* Firefox */\n          .range::-moz-range-thumb {\n            height: var(--bar-h);   /* ‚úÖ ÎèôÏùº */\n            width: var(--thumb-w);\n            border-radius: var(--thumb-r);\n            background: #0ea5e9;\n            border: 2px solid #fff;\n            box-shadow: 0 1px 2px rgba(0,0,0,.12);\n            pointer-events: all;\n            cursor: ew-resize;\n          }\n          .range::-moz-range-track {\n            height: var(--bar-h);\n            background: transparent;\n          }\n          .range:focus-visible::-moz-range-thumb {\n            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.35);\n          }\n        `}</style>\n      </div>\n\n      <div className=\"mt-1 text-xs text-neutral-500\">\n        ÎßâÎåÄÎ•º ÎìúÎûòÍ∑∏ÌïòÏó¨ Î≤îÏúÑÎ•º Ï°∞Ï†àÌïòÏÑ∏Ïöî.\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;;;AAFA;;;AAIA,SAAS,MAAM,CAAS,EAAE,GAAW,EAAE,GAAW;IAChD,OAAO,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK;AACrC;AACA,MAAM,MAAM,CAAC,IAAc,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;AAElD,SAAS,SAAS,EAC/B,KAAK,EACL,GAAG,EACH,GAAG,EACH,OAAO,OAAO,EACd,QAAQ,EACR,QAAQ,EACR,QAAQ,EACR,YAAY,EAAE,EACd,aAAa,EAAE,EACf,cAAc,CAAC,EAYhB;;IACC,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,yKAAQ,EAAS,YAAY;IACjD,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,yKAAQ,EAAS,YAAY;IAEjD,IAAA,0KAAS;8BAAC,IAAM,MAAM,YAAY;6BAAM;QAAC;QAAU;KAAI;IACvD,IAAA,0KAAS;8BAAC,IAAM,MAAM,YAAY;6BAAM;QAAC;QAAU;KAAI;IAEvD,MAAM,OAAO,IAAA,wKAAO;kCAAC,IAAM,AAAC,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAK;iCAAK;QAAC;QAAI;QAAK;KAAI;IAC3E,MAAM,QAAQ,IAAA,wKAAO;mCACnB,IAAM,MAAM,AAAC,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAK;kCACzC;QAAC;QAAI;QAAK;KAAI;IAGhB,MAAM,WAAW,CAAC;QAChB,MAAM,OAAO,MAAM,GAAG,KAAK;QAC3B,MAAM;QACN,SAAS;YAAE,KAAK;QAAK;IACvB;IACA,MAAM,WAAW,CAAC;QAChB,MAAM,OAAO,MAAM,GAAG,IAAI;QAC1B,MAAM;QACN,SAAS;YAAE,KAAK;QAAK;IACvB;IAEA,6CAA6C;IAC7C,MAAM,OAAsB;QAC1B,gCAAgC;QAChC,WAAW,GAAG,UAAU,EAAE,CAAC;QAC3B,gCAAgC;QAChC,aAAa,GAAG,WAAW,EAAE,CAAC;QAC9B,gCAAgC;QAChC,aAAa,GAAG,YAAY,EAAE,CAAC;IACjC;IAEA,qBACE,6LAAC;QAAI,WAAU;QAAS,OAAO;;0BAC7B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAK,WAAU;kCAAoB;;;;;;kCACpC,6LAAC;wBAAK,WAAU;;4BACb,IAAI;4BAAI;4BAAI,IAAI;4BAAI;;;;;;;;;;;;;0BAIzB,6LAAC;gBAAyB,OAAO;oBAAE,QAAQ;gBAAe;0DAA3C;;kCAEb,6LAAC;kEAAc;;;;;;kCAEf,6LAAC;wBAEC,OAAO;4BAAE,MAAM,GAAG,KAAK,CAAC,CAAC;4BAAE,OAAO,GAAG,MAAM,CAAC,CAAC;wBAAC;kEADpC;;;;;;kCAKZ,6LAAC;wBACC,MAAK;wBACL,cAAY,GAAG,MAAM,IAAI,CAAC;wBAC1B,KAAK;wBACL,KAAK;wBACL,MAAM;wBACN,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;wBAE/C,OAAO;4BAAE,QAAQ;wBAAG;kEADV;;;;;;kCAGZ,6LAAC;wBACC,MAAK;wBACL,cAAY,GAAG,MAAM,IAAI,CAAC;wBAC1B,KAAK;wBACL,KAAK;wBACL,MAAM;wBACN,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;wBAE/C,OAAO;4BAAE,QAAQ;wBAAG;kEADV;;;;;;;;;;;;;;;;0BAyDd,6LAAC;gBAAI,WAAU;0BAAgC;;;;;;;;;;;;AAKrD;GA5JwB;KAAA","debugId":null}},
    {"offset": {"line": 201, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/Filters.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport type { Listing } from \"../lib/mockData\";\nimport RangeBar from \"./RangeBar\";\n\nexport type FilterValue = {\n  q?: string;\n  gu?: string;\n  dong?: string;\n  category?: string;\n\n  minGoodwill?: number;\n  maxGoodwill?: number;\n  minSales?: number;\n  maxSales?: number;\n};\n\nconst GOODWILL_MAX = 200_000_000; // 2Ïñµ\nconst SALES_MAX = 120_000_000;    // 1.2Ïñµ\nconst STEP = 500_000;\n\nexport default function Filters({\n  items,\n  value,\n  onChange,\n}: {\n  items: Listing[];\n  value: FilterValue;\n  onChange: (v: FilterValue) => void;\n}) {\n  const guOptions = useMemo(\n    () => Array.from(new Set(items.map((x) => x.gu))),\n    [items]\n  );\n\n  const dongOptions = useMemo(() => {\n    const scoped = value.gu ? items.filter((x) => x.gu === value.gu) : items;\n    return Array.from(new Set(scoped.map((x) => x.dong)));\n  }, [items, value.gu]);\n\n  const categoryOptions = useMemo(\n    () => Array.from(new Set(items.map((x) => x.category))),\n    [items]\n  );\n\n  return (\n    <div className=\"space-y-3\">\n      {/* Í≤ÄÏÉâ/ÏßÄÏó≠/ÏóÖÏ¢Ö */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-2\">\n        <input\n          value={value.q ?? \"\"}\n          onChange={(e) => onChange({ ...value, q: e.target.value })}\n          placeholder=\"ÌÇ§ÏõåÎìú (Í∞ÄÍ≤åÎ™Ö)\"\n          className=\"h-10 px-3 rounded-lg border w-full\"\n        />\n        <select\n          value={value.gu ?? \"\"}\n          onChange={(e) =>\n            onChange({ ...value, gu: e.target.value || undefined, dong: undefined })\n          }\n          className=\"h-10 px-3 rounded-lg border w-full\"\n        >\n          <option value=\"\">Ï†ÑÏ≤¥ Íµ¨</option>\n          {guOptions.map((g) => (\n            <option key={g} value={g}>\n              {g}\n            </option>\n          ))}\n        </select>\n\n        <select\n          value={value.dong ?? \"\"}\n          onChange={(e) => onChange({ ...value, dong: e.target.value || undefined })}\n          className=\"h-10 px-3 rounded-lg border w-full\"\n          disabled={!value.gu}\n        >\n          <option value=\"\">{value.gu ? \"Ï†ÑÏ≤¥ Îèô\" : \"Íµ¨Î•º Î®ºÏ†Ä ÏÑ†ÌÉù\"}</option>\n          {dongOptions.map((d) => (\n            <option key={d} value={d}>\n              {d}\n            </option>\n          ))}\n        </select>\n\n        <select\n          value={value.category ?? \"\"}\n          onChange={(e) =>\n            onChange({ ...value, category: e.target.value || undefined })\n          }\n          className=\"h-10 px-3 rounded-lg border w-full\"\n        >\n          <option value=\"\">Ï†ÑÏ≤¥ ÏóÖÏ¢Ö</option>\n          {categoryOptions.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* Î≤îÏúÑ Ïä¨ÎùºÏù¥ÎçîÎì§ */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n        <RangeBar\n          label=\"Í∂åÎ¶¨Í∏à Î≤îÏúÑ\"\n          min={0}\n          max={GOODWILL_MAX}\n          step={STEP}\n          valueMin={value.minGoodwill ?? 0}\n          valueMax={value.maxGoodwill ?? GOODWILL_MAX}\n          onChange={(v) =>\n            onChange({\n              ...value,\n              minGoodwill: v.min ?? value.minGoodwill ?? 0,\n              maxGoodwill: v.max ?? value.maxGoodwill ?? GOODWILL_MAX,\n            })\n          }\n        />\n        <RangeBar\n          label=\"ÏõîÎß§Ï∂ú Î≤îÏúÑ\"\n          min={0}\n          max={SALES_MAX}\n          step={STEP}\n          valueMin={value.minSales ?? 0}\n          valueMax={value.maxSales ?? SALES_MAX}\n          onChange={(v) =>\n            onChange({\n              ...value,\n              minSales: v.min ?? value.minSales ?? 0,\n              maxSales: v.max ?? value.maxSales ?? SALES_MAX,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"flex justify-end\">\n        <button\n          onClick={() =>\n            onChange({\n              ...value,\n              minGoodwill: undefined,\n              maxGoodwill: undefined,\n              minSales: undefined,\n              maxSales: undefined,\n            })\n          }\n          className=\"text-xs text-neutral-600 underline\"\n        >\n          Î≤îÏúÑ Ï¥àÍ∏∞Ìôî\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 445, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/RevenueBadge.tsx"],"sourcesContent":["export default function RevenueBadge() {\n    return (\n      <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-green-100 text-green-700 text-xs font-bold border border-green-200 shadow-sm\">\n        ‚úÖ Îß§Ï∂ú Ïù∏Ï¶ù\n      </span>\n    );\n  }"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACpB,qBACE,6LAAC;QAAK,WAAU;kBAAsI;;;;;;AAI1J;KANsB","debugId":null}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/ListingCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCompare } from \"@/context/CompareContext\";\nimport type { Listing } from \"@/lib/types\";\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport RevenueBadge from \"./RevenueBadge\";\n\n// Ïà´Ïûê Ìè¨Îß∑\nconst fmt = (n?: number | null) =>\n  n == null ? \"-\" : new Intl.NumberFormat(\"ko-KR\").format(n);\n\n// ÏÇ¨ÏßÑ URL Ï∂îÏ∂ú Ìó¨Ìçº\nfunction firstPhoto(photos: unknown): string | undefined {\n  if (!photos) return;\n  if (Array.isArray(photos) && photos.length && typeof photos[0] === \"string\") {\n    return photos[0] as string;\n  }\n  if (typeof photos === \"string\") {\n    try {\n      const parsed = JSON.parse(photos);\n      if (Array.isArray(parsed) && parsed.length && typeof parsed[0] === \"string\") {\n        return parsed[0] as string;\n      }\n    } catch { }\n  }\n  return;\n}\n\nexport default function ListingCard({\n  item,\n  highlight = false,\n  onHover,\n}: {\n  item: Listing | (Listing & { photos?: unknown });\n  highlight?: boolean;\n  onHover?: (id: number | null) => void;\n}) {\n  const router = useRouter();\n  const [loading, setLoading] = useState<null | \"listing\" | \"loan\" | \"fitout\">(null);\n  const { selectedIds, toggleId } = useCompare();\n  const thumb = firstPhoto((item as any).photos);\n\n  async function startChat(type: \"listing\" | \"loan\" | \"fitout\") {\n    try {\n      setLoading(type);\n      const res = await fetch(\"/api/chat/threads\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({\n          type,\n          listingId: item.id,\n          title: item.title,\n        }),\n      });\n\n      const raw = await res.text();\n      if (!res.ok) throw new Error(raw || `POST /api/chat/threads ${res.status}`);\n\n      const data = JSON.parse(raw);\n      const id: string | undefined = data?.thread?.id;\n      if (!id) throw new Error(\"thread id missing\");\n\n      router.push(`/chat/${id}?role=user`);\n    } catch (e: any) {\n      alert(`Ï±ÑÌåÖÎ∞© Ïó¥Í∏∞ Ïã§Ìå®: ${e?.message || \"unknown error\"}`);\n    } finally {\n      setLoading(null);\n    }\n  }\n\n  return (\n    <div\n      id={`card-${item.id}`}\n      onMouseEnter={() => onHover?.(item.id)}\n      onMouseLeave={() => onHover?.(null)}\n      className={[\n        \"rounded-2xl bg-white border shadow p-4 transition\",\n        highlight ? \"border-sky-400 ring-2 ring-sky-300\" : \"border-neutral-200\",\n      ].join(\" \")}\n    >\n      <div className=\"flex items-start justify-between gap-4\">\n        <div className=\"flex gap-3\">\n          \n          {/* üõ†Ô∏è ÏàòÏ†ïÎêú Ïç∏ÎÑ§Ïùº ÏòÅÏó≠ (Wrapper Íµ¨Ï°∞) */}\n          <div className=\"relative h-16 w-24 shrink-0\">\n            {/* 1. Ïù¥ÎØ∏ÏßÄ Ïª®ÌÖåÏù¥ÎÑà (Îë•Í∏ÄÍ≤å ÏûòÎ¶º) */}\n            <div className=\"absolute inset-0 rounded-lg overflow-hidden border bg-neutral-100\">\n              {thumb ? (\n                <Image\n                  src={thumb}\n                  alt={`${item.title} Ïç∏ÎÑ§Ïùº`}\n                  fill\n                  sizes=\"96px\"\n                  style={{ objectFit: \"cover\" }}\n                />\n              ) : (\n                <div className=\"h-full w-full grid place-items-center text-xs text-neutral-500\">\n                  No image\n                </div>\n              )}\n            </div>\n\n            {/* 2. Ï≤¥ÌÅ¨Î∞ïÏä§ Î≤ÑÌäº (ÏûòÎ¶¨ÏßÄ ÏïäÎèÑÎ°ù ÍªçÎç∞Í∏∞ ÏúÑÏóê Î∞∞Ïπò) */}\n            <button\n              onClick={(e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                toggleId(item.id);\n              }}\n              className={`absolute top-1 left-1 z-50 w-5 h-5 rounded border shadow-md flex items-center justify-center transition-all ${\n                selectedIds.includes(item.id) \n                  ? \"bg-blue-600 border-blue-600 text-white\" \n                  : \"bg-white border-gray-400 hover:border-blue-500\"\n              }`}\n              title=\"ÎπÑÍµêÌï®Ïóê Îã¥Í∏∞\"\n            >\n              {selectedIds.includes(item.id) && (\n                <svg className=\"w-3 h-3 fill-current stroke-current stroke-2\" viewBox=\"0 0 20 20\">\n                  <path d=\"M0 11l2-2 5 5L18 3l2 2L7 18z\"/>\n                </svg>\n              )}\n            </button>\n          </div>\n\n          {/* ÌÖçÏä§Ìä∏ ÏòÅÏó≠ */}\n          <div>\n            {(item as any).isRevenueVerified && (\n              <div className=\"mb-1\">\n                <RevenueBadge />\n              </div>\n            )}\n\n            <div className=\"font-semibold\">\n              {item.title}{\" \"}\n              <span className=\"text-sm text-neutral-500\">\n                {(item as any).category ?? \"\"}\n              </span>\n            </div>\n            <div className=\"text-sm text-neutral-600\">\n              {(item as any).address_area ?? \"\"}\n            </div>\n\n            <div className=\"mt-2 text-sm grid grid-cols-2 gap-x-6 gap-y-1\">\n              <span>ÏõîÏÑ∏ {fmt((item as any).rent_monthly)}</span>\n              <span>ÏûÑÎåÄÎ≥¥Ï¶ùÍ∏à {fmt((item as any).deposit)}</span>\n              <span>Í∂åÎ¶¨Í∏à {fmt((item as any).goodwill_price)}</span>\n              <span>ÏõîÎß§Ï∂ú {fmt((item as any).monthly_sales)}</span>\n              <span>Ï£ºÏ∞® {((item as any).parking_spaces ?? 0) as number}ÎåÄ</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Î≤ÑÌäº ÏòÅÏó≠ */}\n        <div className=\"flex flex-col gap-2 shrink-0\">\n          <button\n            onClick={() => startChat(\"listing\")}\n            disabled={loading === \"listing\"}\n            className=\"rounded-lg bg-sky-500 hover:bg-sky-600 disabled:opacity-60 text-white px-3 py-1.5 text-sm\"\n          >\n            {loading === \"listing\" ? \"Ïó¥Îäî Ï§ë‚Ä¶\" : \"Îß§Î¨ºÎ¨∏Ïùò\"}\n          </button>\n          <button\n            onClick={() => startChat(\"loan\")}\n            disabled={loading === \"loan\"}\n            className=\"rounded-lg bg-sky-400 hover:bg-sky-500 disabled:opacity-60 text-white px-3 py-1.5 text-sm\"\n          >\n            {loading === \"loan\" ? \"Ïó¥Îäî Ï§ë‚Ä¶\" : \"ÎåÄÏ∂úÎ¨∏Ïùò\"}\n          </button>\n          <button\n            onClick={() => startChat(\"fitout\")}\n            disabled={loading === \"fitout\"}\n            className=\"rounded-lg bg-sky-600 hover:bg-sky-700 disabled:opacity-60 text-white px-3 py-1.5 text-sm\"\n          >\n            {loading === \"fitout\" ? \"Ïó¥Îäî Ï§ë‚Ä¶\" : \"Ïù∏ÌÖåÎ¶¨Ïñ¥Î¨∏Ïùò\"}\n          </button>\n\n          <Link\n            href={`/listing/${item.id}`}\n            className=\"text-center rounded-lg border px-3 py-1.5 text-sm hover:bg-neutral-50\"\n          >\n            ÏÉÅÏÑ∏\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 808, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/ListingMap.tsx"],"sourcesContent":["// components/ListingMap.tsx\n\"use client\";\n\nimport type { Listing } from \"@/lib/mockData\";\nimport { useEffect, useRef, useState } from \"react\";\n\ndeclare global {\n  interface Window {\n    naver: any;\n    navermap_authFailure?: () => void;\n  }\n}\n\n// ‚úÖ Web JS v3: openapi + ncpClientId (ÎèôÏûë ÌôïÏù∏Îêú Î∞©Ïãù)\nconst NAVER_CLIENT_ID =\n  process.env.NEXT_PUBLIC_NAVER_MAP_CLIENT_ID ?? \"hdlzlfn5o0\";\n\nexport default function ListingMap({\n  items,\n  selectedId,\n  onSelect,\n}: {\n  items: Listing[];\n  selectedId?: number | null;\n  onSelect?: (id: number) => void;\n}) {\n  const mapRef = useRef<HTMLDivElement | null>(null);\n  const mapObj = useRef<any>(null);\n  const markersRef = useRef<Record<number, any>>({});\n  const [loaded, setLoaded] = useState(false);\n  const [authFailed, setAuthFailed] = useState(false);\n\n  // Ïù∏Ï¶ù Ïã§Ìå® ÏΩúÎ∞±\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    window.navermap_authFailure = function () {\n      console.error(\"[NAVER MAP] Authentication Failed\");\n      setAuthFailed(true);\n    };\n  }, []);\n\n  // SDK Î°úÎìú\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    if (window.naver?.maps) {\n      setLoaded(true);\n      return;\n    }\n    const id = \"naver-map-sdk\";\n    let s = document.getElementById(id) as HTMLScriptElement | null;\n    const src = `https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=${NAVER_CLIENT_ID}&_=${Date.now()}`;\n    if (!s) {\n      s = document.createElement(\"script\");\n      s.id = id;\n      s.async = true;\n      s.defer = true;\n      document.head.appendChild(s);\n    }\n    s.src = src;\n    s.onload = () => {\n      console.log(\"[NAVER MAP] SDK loaded\", { ncpClientId: NAVER_CLIENT_ID });\n      setLoaded(true);\n    };\n    s.onerror = () => console.error(\"[NAVER MAP] SDK load error\");\n  }, []);\n\n  // ÏßÄÎèÑ/ÎßàÏª§\n  useEffect(() => {\n    if (!loaded || !mapRef.current || !window.naver?.maps || authFailed) return;\n    const { naver } = window;\n\n    const first = items[0];\n    const center = first\n      ? new naver.maps.LatLng(first.lat, first.lng)\n      : new naver.maps.LatLng(37.5665, 126.9780);\n    const map = new naver.maps.Map(mapRef.current, {\n      center,\n      zoom: 13,\n      zoomControl: true,\n      zoomControlOptions: { position: naver.maps.Position.TOP_RIGHT },\n    });\n    mapObj.current = map;\n\n    // Í∏∞Ï°¥ ÎßàÏª§ Ï†úÍ±∞\n    Object.values(markersRef.current).forEach((m) => m.setMap(null));\n    markersRef.current = {};\n\n    // ÎßàÏª§ ÏÉùÏÑ±\n    const bounds = new naver.maps.LatLngBounds();\n    items.forEach((it) => {\n      const pos = new naver.maps.LatLng(it.lat, it.lng);\n      bounds.extend(pos);\n\n      const marker = new naver.maps.Marker({\n        map,\n        position: pos,\n      });\n      markersRef.current[it.id] = marker;\n\n      naver.maps.Event.addListener(marker, \"click\", () => {\n        onSelect?.(it.id);\n        map.panTo(pos);\n      });\n    });\n\n    if (items.length > 1) {\n      map.fitBounds(bounds, { top: 20, left: 20, right: 20, bottom: 20 });\n    }\n  }, [loaded, authFailed, items, onSelect]);\n\n  // ÏÑ†ÌÉùÎêú ÎßàÏª§Î°ú Ìè¨Ïª§Ïä§\n  useEffect(() => {\n    if (!selectedId || !mapObj.current || !window.naver?.maps) return;\n    const marker = markersRef.current[selectedId];\n    if (!marker) return;\n    const pos = marker.getPosition();\n    mapObj.current.panTo(pos);\n    try {\n      marker.setAnimation(window.naver.maps.Animation.BOUNCE);\n      setTimeout(() => marker.setAnimation(null), 700);\n    } catch {}\n  }, [selectedId]);\n\n  return (\n    <div className=\"relative w-full h-64 rounded-2xl border border-neutral-200 overflow-hidden\">\n      <div ref={mapRef} className=\"w-full h-full\" />\n      {!loaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center text-sm\">\n          ÏßÄÎèÑÎ•º Î∂àÎü¨Ïò§Îäî Ï§ë‚Ä¶\n        </div>\n      )}\n      {authFailed && (\n        <div className=\"absolute inset-0 bg-white/85 backdrop-blur flex items-center justify-center p-4 text-xs\">\n          <div className=\"text-center\">\n            <div className=\"text-red-600 font-semibold mb-1\">\n              ÎÑ§Ïù¥Î≤Ñ ÏßÄÎèÑ Ïù∏Ï¶ù Ïã§Ìå®\n            </div>\n            <div className=\"text-neutral-700\">\n              Web ÏÑúÎπÑÏä§ URL / ncpClientId ÏÑ§Ï†ïÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1017, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/HomePage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport type { Listing } from \"../lib/mockData\";\nimport Filters, { FilterValue } from \"./Filters\";\nimport ListingCard from \"./ListingCard\";\nimport ListingMap from \"./ListingMap\";\n\nexport default function HomePage({ items }: { items: Listing[] }) {\n  const [selectedId, setSelectedId] = useState<number | null>(null);\n  const [filters, setFilters] = useState<FilterValue>({});\n\n  // ÌïÑÌÑ∞ÎßÅ\n  const filtered = useMemo(() => {\n    const q = (filters.q || \"\").trim().toLowerCase();\n    return items.filter((it) => {\n      if (filters.gu && it.gu !== filters.gu) return false;\n      if (filters.dong && it.dong !== filters.dong) return false;\n      if (filters.category && it.category !== filters.category) return false;\n      if (q && !it.title.toLowerCase().includes(q)) return false;\n\n      if (\n        filters.minGoodwill != null &&\n        (it.goodwill_price ?? Number.NEGATIVE_INFINITY) < filters.minGoodwill\n      )\n        return false;\n      if (\n        filters.maxGoodwill != null &&\n        (it.goodwill_price ?? Number.POSITIVE_INFINITY) > filters.maxGoodwill\n      )\n        return false;\n\n      if (\n        filters.minSales != null &&\n        (it.monthly_sales ?? Number.NEGATIVE_INFINITY) < filters.minSales\n      )\n        return false;\n      if (\n        filters.maxSales != null &&\n        (it.monthly_sales ?? Number.POSITIVE_INFINITY) > filters.maxSales\n      )\n        return false;\n\n      return true;\n    });\n  }, [items, filters]);\n\n  // ÏÑ†ÌÉù Ïπ¥ÎìúÎ°ú Ïä§ÌÅ¨Î°§\n  useEffect(() => {\n    if (!selectedId) return;\n    const el = document.getElementById(`card-${selectedId}`);\n    if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n  }, [selectedId]);\n\n  return (\n    <main className=\"max-w-4xl mx-auto p-4 space-y-4\">\n      <h1 className=\"text-xl font-semibold\">STEP 5 ‚Äî Í≤ÄÏÉâ/ÌïÑÌÑ∞ + ÏÉÅÎã¥</h1>\n\n      {/* ÌïÑÌÑ∞ */}\n      <Filters items={items} value={filters} onChange={setFilters} />\n\n      {/* ÏßÄÎèÑ */}\n      <ListingMap\n        items={filtered}\n        selectedId={selectedId ?? undefined}\n        onSelect={(id) => setSelectedId(id)}\n      />\n\n      {/* Ïπ¥Îìú Î¶¨Ïä§Ìä∏ */}\n      <div className=\"space-y-3\">\n        {filtered.map((it) => (\n          <ListingCard\n            key={it.id}\n            item={it}\n            highlight={selectedId === it.id}\n            onHover={(id) => setSelectedId(id)}\n          />\n        ))}\n        {filtered.length === 0 && (\n          <div className=\"text-sm text-neutral-600 p-3\">\n            Ï°∞Í±¥Ïóê ÎßûÎäî Îß§Î¨ºÏù¥ ÏóÜÏäµÎãàÎã§.\n          </div>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;;;AANA;;;;;AAQe,SAAS,SAAS,EAAE,KAAK,EAAwB;;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAgB;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAc,CAAC;IAErD,MAAM;IACN,MAAM,WAAW,IAAA,wKAAO;sCAAC;YACvB,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,IAAI,GAAG,WAAW;YAC9C,OAAO,MAAM,MAAM;8CAAC,CAAC;oBACnB,IAAI,QAAQ,EAAE,IAAI,GAAG,EAAE,KAAK,QAAQ,EAAE,EAAE,OAAO;oBAC/C,IAAI,QAAQ,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,EAAE,OAAO;oBACrD,IAAI,QAAQ,QAAQ,IAAI,GAAG,QAAQ,KAAK,QAAQ,QAAQ,EAAE,OAAO;oBACjE,IAAI,KAAK,CAAC,GAAG,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,OAAO;oBAErD,IACE,QAAQ,WAAW,IAAI,QACvB,CAAC,GAAG,cAAc,IAAI,OAAO,iBAAiB,IAAI,QAAQ,WAAW,EAErE,OAAO;oBACT,IACE,QAAQ,WAAW,IAAI,QACvB,CAAC,GAAG,cAAc,IAAI,OAAO,iBAAiB,IAAI,QAAQ,WAAW,EAErE,OAAO;oBAET,IACE,QAAQ,QAAQ,IAAI,QACpB,CAAC,GAAG,aAAa,IAAI,OAAO,iBAAiB,IAAI,QAAQ,QAAQ,EAEjE,OAAO;oBACT,IACE,QAAQ,QAAQ,IAAI,QACpB,CAAC,GAAG,aAAa,IAAI,OAAO,iBAAiB,IAAI,QAAQ,QAAQ,EAEjE,OAAO;oBAET,OAAO;gBACT;;QACF;qCAAG;QAAC;QAAO;KAAQ;IAEnB,aAAa;IACb,IAAA,0KAAS;8BAAC;YACR,IAAI,CAAC,YAAY;YACjB,MAAM,KAAK,SAAS,cAAc,CAAC,CAAC,KAAK,EAAE,YAAY;YACvD,IAAI,IAAI,GAAG,cAAc,CAAC;gBAAE,UAAU;gBAAU,OAAO;YAAS;QAClE;6BAAG;QAAC;KAAW;IAEf,qBACE,6LAAC;QAAK,WAAU;;0BACd,6LAAC;gBAAG,WAAU;0BAAwB;;;;;;0BAGtC,6LAAC,oIAAO;gBAAC,OAAO;gBAAO,OAAO;gBAAS,UAAU;;;;;;0BAGjD,6LAAC,uIAAU;gBACT,OAAO;gBACP,YAAY,cAAc;gBAC1B,UAAU,CAAC,KAAO,cAAc;;;;;;0BAIlC,6LAAC;gBAAI,WAAU;;oBACZ,SAAS,GAAG,CAAC,CAAC,mBACb,6LAAC,wIAAW;4BAEV,MAAM;4BACN,WAAW,eAAe,GAAG,EAAE;4BAC/B,SAAS,CAAC,KAAO,cAAc;2BAH1B,GAAG,EAAE;;;;;oBAMb,SAAS,MAAM,KAAK,mBACnB,6LAAC;wBAAI,WAAU;kCAA+B;;;;;;;;;;;;;;;;;;AAOxD;GA9EwB;KAAA","debugId":null}}]
}