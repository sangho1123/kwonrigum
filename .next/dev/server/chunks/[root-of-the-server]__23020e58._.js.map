{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/my-shop-transfer-app-1.3/lib/store.ts"],"sourcesContent":["// lib/store.ts\n\n// ---- Lead demo store ----\n\nexport type Lead = {\n  id: string;\n  type: \"listing\" | \"loan\" | \"fitout\" | \"closure\";\n  listingId?: number;\n  name: string;\n  phone: string;\n  message?: string;\n  payload?: any;\n  partnerId?: string | null;\n  createdAt: number;\n};\n\nexport const leads: Lead[] = [];\n\n// ---- Proof demo store ----\n\n// ê²€ì¦ ìƒíƒœ íƒ€ì…ì„ ë¶„ë¦¬í•´ì„œ ì¬ì‚¬ìš©\nexport type ProofStatus = \"verified\" | \"unverified\";\n\nexport type Proof = {\n  id: string;\n  listingId: number;\n  filename?: string;\n  uploadedAt: number;\n};\n\nexport const proofs: Proof[] = [];\n\n// ì¸ë©”ëª¨ë¦¬ ê²€ì¦ ìƒíƒœ ë§µ\nconst proofStatusByListing = new Map<number, ProofStatus>();\n\nexport function setProofStatus(listingId: number, status: ProofStatus) {\n  proofStatusByListing.set(listingId, status);\n}\n\nexport function getProofStatus(\n  listingId: number\n): ProofStatus | undefined {\n  return proofStatusByListing.get(listingId);\n}\n"],"names":[],"mappings":"AAAA,eAAe;AAEf,4BAA4B;;;;;;;;;;;AAcrB,MAAM,QAAgB,EAAE;AAcxB,MAAM,SAAkB,EAAE;AAEjC,eAAe;AACf,MAAM,uBAAuB,IAAI;AAE1B,SAAS,eAAe,SAAiB,EAAE,MAAmB;IACnE,qBAAqB,GAAG,CAAC,WAAW;AACtC;AAEO,SAAS,eACd,SAAiB;IAEjB,OAAO,qBAAqB,GAAG,CAAC;AAClC","debugId":null}},
    {"offset": {"line": 72, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/my-shop-transfer-app-1.3/app/api/uploads/route.ts"],"sourcesContent":["// app/api/uploads/route.ts\nimport { setProofStatus } from \"@/lib/store\";\nimport { NextResponse } from \"next/server\";\n\nexport async function POST(req: Request) {\n  try {\n    const formData = await req.formData();\n\n    const file = formData.get(\"file\");\n    const listingIdRaw = formData.get(\"listingId\");\n    const listingId = listingIdRaw ? Number(listingIdRaw) : NaN;\n\n    if (!(file instanceof File)) {\n      return NextResponse.json(\n        { ok: false, error: \"íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤.\" },\n        { status: 400 }\n      );\n    }\n\n    if (!Number.isFinite(listingId)) {\n      return NextResponse.json(\n        { ok: false, error: \"listingIdê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤.\" },\n        { status: 400 }\n      );\n    }\n\n    // ğŸ”¹ ì§€ê¸ˆì€ ë°ëª¨ìš©: íŒŒì¼ ë‚´ìš©ì„ ì½ê¸°ë§Œ í•˜ê³ , ì‹¤ì œ ì €ì¥ì€ ì•ˆ í•¨.\n    // ë‚˜ì¤‘ì— S3 ì„œëª… URL ê¸°ë°˜ ì—…ë¡œë“œë¡œ ë°”ê¾¸ë ¤ë©´\n    // - ì—¬ê¸°ì„œ S3 presigned URL ìƒì„±\n    // - í”„ë¡ íŠ¸ì—ì„œ í•´ë‹¹ URLë¡œ ì§ì ‘ ì—…ë¡œë“œ\n    // - ì—…ë¡œë“œ í›„ ìµœì¢… fileUrlì„ DB/ìŠ¤í† ì–´ì— ì €ì¥\n    // ì´ëŸ° ì‹ìœ¼ë¡œ ë¡œì§ êµì²´í•˜ë©´ ë¨.\n    await file.arrayBuffer();\n\n    // ì¼ë‹¨ ë°ëª¨ìš©ìœ¼ë¡œ \"ì–´ë”˜ê°€ ì˜¬ë¼ê°„ ê²ƒì²˜ëŸ¼\" ë³´ì´ëŠ” ê°€ì§œ URL\n    const fakeUrl = `https://example.com/proofs/${Date.now()}-${encodeURIComponent(\n      file.name\n    )}`;\n\n    // ğŸ”¹ ì—…ë¡œë“œ ì„±ê³µí–ˆë‹¤ê³  ë³´ê³ , í•´ë‹¹ listingì„ ê²€ì¦ ì™„ë£Œë¡œ í‘œì‹œ\n    setProofStatus(listingId, \"verified\");\n\n    return NextResponse.json({\n      ok: true,\n      url: fakeUrl,\n      proof_status: \"verified\",\n    });\n  } catch (e: any) {\n    return NextResponse.json(\n      { ok: false, error: e?.message || \"ì—…ë¡œë“œ ì¤‘ ì˜¤ë¥˜\" },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAC3B;AACA;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,WAAW,MAAM,IAAI,QAAQ;QAEnC,MAAM,OAAO,SAAS,GAAG,CAAC;QAC1B,MAAM,eAAe,SAAS,GAAG,CAAC;QAClC,MAAM,YAAY,eAAe,OAAO,gBAAgB;QAExD,IAAI,CAAC,CAAC,gBAAgB,IAAI,GAAG;YAC3B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,IAAI;gBAAO,OAAO;YAAY,GAChC;gBAAE,QAAQ;YAAI;QAElB;QAEA,IAAI,CAAC,OAAO,QAAQ,CAAC,YAAY;YAC/B,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,IAAI;gBAAO,OAAO;YAAsB,GAC1C;gBAAE,QAAQ;YAAI;QAElB;QAEA,yCAAyC;QACzC,6BAA6B;QAC7B,4BAA4B;QAC5B,yBAAyB;QACzB,iCAAiC;QACjC,oBAAoB;QACpB,MAAM,KAAK,WAAW;QAEtB,oCAAoC;QACpC,MAAM,UAAU,CAAC,2BAA2B,EAAE,KAAK,GAAG,GAAG,CAAC,EAAE,mBAC1D,KAAK,IAAI,GACR;QAEH,yCAAyC;QACzC,IAAA,gIAAc,EAAC,WAAW;QAE1B,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,IAAI;YACJ,KAAK;YACL,cAAc;QAChB;IACF,EAAE,OAAO,GAAQ;QACf,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,IAAI;YAAO,OAAO,GAAG,WAAW;QAAW,GAC7C;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}