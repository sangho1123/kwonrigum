{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.1/app/api/listings/%5Bid%5D/route.ts"],"sourcesContent":["import { PrismaClient } from \"@prisma/client\";\nimport { NextResponse } from \"next/server\";\n\nconst prisma = new PrismaClient();\n\nexport async function GET(\n  request: Request,\n  // Next.js 15+ 에러 방지를 위해 params를 Promise 타입으로 명시\n  { params }: { params: Promise<{ id: string }> } \n) {\n  try {\n    // 1. params를 await로 먼저 풀어줍니다.\n    const resolvedParams = await params;\n    const idString = resolvedParams.id;\n\n    // 2. 숫자로 변환 시도\n    const id = parseInt(idString);\n\n    // 3. 진단용 로그 (터미널에서 확인 가능)\n    console.log(\"요청받은 ID:\", idString, \"변환된 ID:\", id);\n\n    if (isNaN(id)) {\n      return NextResponse.json(\n        { error: `유효하지 않은 ID 형식입니다: ${idString}` }, \n        { status: 400 }\n      );\n    }\n\n    const listing = await prisma.listing.findUnique({\n      where: { id: id },\n    });\n\n    if (!listing) {\n      return NextResponse.json(\n        { error: \"해당 ID의 매물을 DB에서 찾을 수 없습니다.\" }, \n        { status: 404 }\n      );\n    }\n\n    return NextResponse.json(listing);\n  } catch (error) {\n    console.error(\"API 서버 오류:\", error);\n    return NextResponse.json(\n      { error: \"Internal Server Error\" }, \n      { status: 500 }\n    );\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEA,MAAM,SAAS,IAAI,6IAAY;AAExB,eAAe,IACpB,OAAgB,EAChB,gDAAgD;AAChD,EAAE,MAAM,EAAuC;IAE/C,IAAI;QACF,8BAA8B;QAC9B,MAAM,iBAAiB,MAAM;QAC7B,MAAM,WAAW,eAAe,EAAE;QAElC,eAAe;QACf,MAAM,KAAK,SAAS;QAEpB,0BAA0B;QAC1B,QAAQ,GAAG,CAAC,YAAY,UAAU,WAAW;QAE7C,IAAI,MAAM,KAAK;YACb,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO,CAAC,kBAAkB,EAAE,UAAU;YAAC,GACzC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,UAAU,MAAM,OAAO,OAAO,CAAC,UAAU,CAAC;YAC9C,OAAO;gBAAE,IAAI;YAAG;QAClB;QAEA,IAAI,CAAC,SAAS;YACZ,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA6B,GACtC;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,cAAc;QAC5B,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAwB,GACjC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}