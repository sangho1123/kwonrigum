{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/lib/db.ts"],"sourcesContent":["// lib/db.ts\nimport { PrismaClient } from \"@prisma/client\";\n\nconst globalForPrisma = globalThis as unknown as { prisma?: PrismaClient };\n\nexport const prisma =\n  globalForPrisma.prisma ??\n  new PrismaClient({\n    log: process.env.NODE_ENV === \"development\" ? [\"query\", \"error\", \"warn\"] : [\"error\"],\n  });\n\nif (process.env.NODE_ENV !== \"production\") globalForPrisma.prisma = prisma;\n"],"names":[],"mappings":"AAAA,YAAY;;;;;AACZ;;AAEA,MAAM,kBAAkB;AAEjB,MAAM,SACX,gBAAgB,MAAM,IACtB,IAAI,6IAAY,CAAC;IACf,KAAK,uCAAyC;QAAC;QAAS;QAAS;KAAO,GAAG;AAC7E;AAEF,wCAA2C,gBAAgB,MAAM,GAAG","debugId":null}},
    {"offset": {"line": 44, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/lib/mockData.ts"],"sourcesContent":["// lib/mockData.ts\n\nexport type Listing = {\n  id: number;\n  title: string;\n  category: string;      // 업종\n  gu: string;            // 구\n  dong: string;          // 동\n  address_area: string;  // 표시용\n  lat: number;\n  lng: number;\n\n  rent_monthly?: number;     // 월세\n  deposit?: number;          // 임대보증금\n  goodwill_price?: number;   // 권리금\n  monthly_sales?: number;    // 월매출\n  parking_spaces?: number;   // 주차 가능 대수\n\n  photos?: string[];         // 상세/목록 사진 (public 기준 경로)\n  verification_status?: \"verified\" | \"unverified\";\n};\n\nexport const listings: Listing[] = [\n  {\n    id: 45,\n    title: \"논현동 소형 카페\",\n    category: \"카페/디저트\",\n    gu: \"강남구\",\n    dong: \"논현동\",\n    address_area: \"강남구 논현동\",\n    lat: 37.512345,\n    lng: 127.032198,\n    rent_monthly: 3_800_000,\n    deposit: 30_000_000,\n    goodwill_price: 50_000_000,\n    monthly_sales: 35_000_000,\n    parking_spaces: 1,\n    photos: [\"/photos/coffee.jpg\"],\n    verification_status: \"unverified\",\n  },\n  {\n    id: 47,\n    title: \"봉천동 치킨 전문\",\n    category: \"치킨\",\n    gu: \"관악구\",\n    dong: \"봉천동\",\n    address_area: \"관악구 봉천동\",\n    lat: 37.485555,\n    lng: 126.955,\n    rent_monthly: 2_500_000,\n    deposit: 20_000_000,\n    goodwill_price: 0,\n    monthly_sales: 28_000_000,\n    parking_spaces: 0,\n    photos: [\"/photos/chicken.jpg\"],\n    verification_status: \"unverified\",\n  },\n];\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;AAsBX,MAAM,WAAsB;IACjC;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,IAAI;QACJ,MAAM;QACN,cAAc;QACd,KAAK;QACL,KAAK;QACL,cAAc;QACd,SAAS;QACT,gBAAgB;QAChB,eAAe;QACf,gBAAgB;QAChB,QAAQ;YAAC;SAAqB;QAC9B,qBAAqB;IACvB;IACA;QACE,IAAI;QACJ,OAAO;QACP,UAAU;QACV,IAAI;QACJ,MAAM;QACN,cAAc;QACd,KAAK;QACL,KAAK;QACL,cAAc;QACd,SAAS;QACT,gBAAgB;QAChB,eAAe;QACf,gBAAgB;QAChB,QAAQ;YAAC;SAAsB;QAC/B,qBAAqB;IACvB;CACD","debugId":null}},
    {"offset": {"line": 93, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/app/listing/page.tsx"],"sourcesContent":["// app/listing/page.tsx\nexport const dynamic = \"force-dynamic\";\n\nimport { prisma } from \"@/lib/db\";\nimport {\n  listings as MOCK,\n  type Listing as MockListing,\n} from \"@/lib/mockData\";\nimport Link from \"next/link\";\n\ntype VM = {\n  id: number;\n  title: string;\n  source: \"db\" | \"mock\";\n  createdAt: string;\n};\n\nexport default async function ListingIndexPage() {\n  // 1) DB에 있는 실제 매물\n  const dbRows = await prisma.listing.findMany({\n    orderBy: { createdAt: \"desc\" },\n    select: {\n      id: true,\n      title: true,\n      createdAt: true,\n    },\n  });\n\n  const dbItems: VM[] = dbRows.map((x) => ({\n    id: x.id,\n    title: x.title ?? \"\",\n    source: \"db\",\n    createdAt: x.createdAt.toISOString(),\n  }));\n\n  // 2) demo mock 매물 (DB와 id가 겹치면 DB 우선)\n  const mockItems: VM[] = (MOCK as MockListing[])\n    .filter((m) => !dbItems.some((d) => d.id === m.id))\n    .map((m) => ({\n      id: Number(m.id),\n      title: String(m.title ?? \"\"),\n      source: \"mock\",\n      createdAt: String(m.created_at ?? new Date().toISOString()),\n    }));\n\n  // 3) 합쳐서 최신순 정렬\n  const items = [...dbItems, ...mockItems].sort((a, b) =>\n    a.createdAt < b.createdAt ? 1 : -1\n  );\n\n  return (\n    <main className=\"max-w-3xl mx-auto p-6 space-y-4\">\n      <h1 className=\"text-xl font-semibold\">매물 목록</h1>\n      <p className=\"text-xs text-neutral-500\">\n        실제 DB에 저장된 매물과 데모 mock 매물이 함께 노출됩니다.\n      </p>\n\n      {items.length === 0 ? (\n        <p className=\"text-sm text-neutral-600\">매물이 없습니다.</p>\n      ) : (\n        <ul className=\"list-disc ml-5 space-y-1\">\n          {items.map((x) => (\n            <li key={x.id}>\n              <Link className=\"underline\" href={`/listing/${x.id}`}>\n                /listing/{x.id} — {x.title}{\" \"}\n                <span className=\"text-[11px] text-neutral-500\">\n                  ({x.source === \"db\" ? \"직접등록\" : \"데모\"})\n                </span>\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </main>\n  );\n}\n"],"names":[],"mappings":"AAAA,uBAAuB;;;;;;;;AAGvB;AACA;AAIA;;AAPO,MAAM,UAAU;;;;AAgBR,eAAe;IAC5B,kBAAkB;IAClB,MAAM,SAAS,MAAM,mHAAM,CAAC,OAAO,CAAC,QAAQ,CAAC;QAC3C,SAAS;YAAE,WAAW;QAAO;QAC7B,QAAQ;YACN,IAAI;YACJ,OAAO;YACP,WAAW;QACb;IACF;IAEA,MAAM,UAAgB,OAAO,GAAG,CAAC,CAAC,IAAM,CAAC;YACvC,IAAI,EAAE,EAAE;YACR,OAAO,EAAE,KAAK,IAAI;YAClB,QAAQ;YACR,WAAW,EAAE,SAAS,CAAC,WAAW;QACpC,CAAC;IAED,sCAAsC;IACtC,MAAM,YAAkB,AAAC,2HAAI,CAC1B,MAAM,CAAC,CAAC,IAAM,CAAC,QAAQ,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,EAAE,EAAE,GAChD,GAAG,CAAC,CAAC,IAAM,CAAC;YACX,IAAI,OAAO,EAAE,EAAE;YACf,OAAO,OAAO,EAAE,KAAK,IAAI;YACzB,QAAQ;YACR,WAAW,OAAO,EAAE,UAAU,IAAI,IAAI,OAAO,WAAW;QAC1D,CAAC;IAEH,gBAAgB;IAChB,MAAM,QAAQ;WAAI;WAAY;KAAU,CAAC,IAAI,CAAC,CAAC,GAAG,IAChD,EAAE,SAAS,GAAG,EAAE,SAAS,GAAG,IAAI,CAAC;IAGnC,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BACtC,8OAAC;gBAAE,WAAU;0BAA2B;;;;;;YAIvC,MAAM,MAAM,KAAK,kBAChB,8OAAC;gBAAE,WAAU;0BAA2B;;;;;qCAExC,8OAAC;gBAAG,WAAU;0BACX,MAAM,GAAG,CAAC,CAAC,kBACV,8OAAC;kCACC,cAAA,8OAAC,0LAAI;4BAAC,WAAU;4BAAY,MAAM,CAAC,SAAS,EAAE,EAAE,EAAE,EAAE;;gCAAE;gCAC1C,EAAE,EAAE;gCAAC;gCAAI,EAAE,KAAK;gCAAE;8CAC5B,8OAAC;oCAAK,WAAU;;wCAA+B;wCAC3C,EAAE,MAAM,KAAK,OAAO,SAAS;wCAAK;;;;;;;;;;;;;uBAJjC,EAAE,EAAE;;;;;;;;;;;;;;;;AAazB","debugId":null}}]
}