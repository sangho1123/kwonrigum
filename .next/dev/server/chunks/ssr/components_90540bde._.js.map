{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.2/components/FilterBar.tsx"],"sourcesContent":["\"use client\";\n\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { useState } from \"react\";\n\nexport default function FilterBar() {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  \n  const [sector, setSector] = useState(searchParams.get(\"sector\") || \"\");\n  const [maxPrice, setMaxPrice] = useState(searchParams.get(\"maxPrice\") || \"\");\n\n  const handleFilter = () => {\n    const params = new URLSearchParams();\n    if (sector) params.set(\"sector\", sector);\n    if (maxPrice) params.set(\"maxPrice\", maxPrice);\n    router.push(`/listing?${params.toString()}`);\n  };\n\n  return (\n    <div className=\"bg-white border-b sticky top-16 z-40 py-4 shadow-sm\">\n      <div className=\"container mx-auto px-4 flex flex-wrap items-center gap-4\">\n        {/* ÏóÖÏ¢Ö ÏÑ†ÌÉù */}\n        <select \n          value={sector}\n          onChange={(e) => setSector(e.target.value)}\n          className=\"border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n        >\n          <option value=\"\">Ï†ÑÏ≤¥ ÏóÖÏ¢Ö</option>\n          <option value=\"Ïπ¥Ìéò/ÎîîÏ†ÄÌä∏\">‚òï Ïπ¥Ìéò/ÎîîÏ†ÄÌä∏</option>\n          <option value=\"ÏùåÏãùÏ†ê\">üçï ÏùåÏãùÏ†ê</option>\n          <option value=\"Ï£ºÏ†ê\">üç∫ Ï£ºÏ†ê</option>\n          <option value=\"ÏùòÎ•ò/Ìå®ÏÖò\">üëó ÏùòÎ•ò/Ìå®ÏÖò</option>\n        </select>\n\n        {/* Í∂åÎ¶¨Í∏à ÌïÑÌÑ∞ */}\n        <select \n          value={maxPrice}\n          onChange={(e) => setMaxPrice(e.target.value)}\n          className=\"border rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 outline-none\"\n        >\n          <option value=\"\">Í∂åÎ¶¨Í∏à Ï†ÑÏ≤¥</option>\n          <option value=\"3000\">3,000Îßå Ïù¥Ìïò</option>\n          <option value=\"5000\">5,000Îßå Ïù¥Ìïò</option>\n          <option value=\"10000\">1Ïñµ Ïù¥Ìïò</option>\n        </select>\n\n        <button \n          onClick={handleFilter}\n          className=\"bg-blue-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-blue-700 transition-colors\"\n        >\n          Ï°∞Í±¥ Í≤ÄÏÉâ\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,eAAe,IAAA,qJAAe;IAEpC,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,iNAAQ,EAAC,aAAa,GAAG,CAAC,aAAa;IACnE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC,aAAa,GAAG,CAAC,eAAe;IAEzE,MAAM,eAAe;QACnB,MAAM,SAAS,IAAI;QACnB,IAAI,QAAQ,OAAO,GAAG,CAAC,UAAU;QACjC,IAAI,UAAU,OAAO,GAAG,CAAC,YAAY;QACrC,OAAO,IAAI,CAAC,CAAC,SAAS,EAAE,OAAO,QAAQ,IAAI;IAC7C;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BAEb,8OAAC;oBACC,OAAO;oBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;oBACzC,WAAU;;sCAEV,8OAAC;4BAAO,OAAM;sCAAG;;;;;;sCACjB,8OAAC;4BAAO,OAAM;sCAAS;;;;;;sCACvB,8OAAC;4BAAO,OAAM;sCAAM;;;;;;sCACpB,8OAAC;4BAAO,OAAM;sCAAK;;;;;;sCACnB,8OAAC;4BAAO,OAAM;sCAAQ;;;;;;;;;;;;8BAIxB,8OAAC;oBACC,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oBAC3C,WAAU;;sCAEV,8OAAC;4BAAO,OAAM;sCAAG;;;;;;sCACjB,8OAAC;4BAAO,OAAM;sCAAO;;;;;;sCACrB,8OAAC;4BAAO,OAAM;sCAAO;;;;;;sCACrB,8OAAC;4BAAO,OAAM;sCAAQ;;;;;;;;;;;;8BAGxB,8OAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;;;;;;AAMT","debugId":null}},
    {"offset": {"line": 150, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.2/components/RevenueBadge.tsx"],"sourcesContent":["export default function RevenueBadge() {\n    return (\n      <span className=\"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-green-100 text-green-700 text-xs font-bold border border-green-200 shadow-sm\">\n        ‚úÖ Îß§Ï∂ú Ïù∏Ï¶ù\n      </span>\n    );\n  }"],"names":[],"mappings":";;;;;;AAAe,SAAS;IACpB,qBACE,8OAAC;QAAK,WAAU;kBAAsI;;;;;;AAI1J","debugId":null}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.2/components/ListingCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useCompare } from \"@/context/CompareContext\";\nimport type { Listing } from \"@/lib/types\";\nimport Image from \"next/image\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport RevenueBadge from \"./RevenueBadge\";\n\n// ‚úÖ 1. ÎßåÎä• Ïù¥ÎØ∏ÏßÄ Ï∂îÏ∂ú Ìï®Ïàò (Î¨∏ÏûêÏó¥/Î∞∞Ïó¥/JSON Î™®Îëê Ï≤òÎ¶¨)\nfunction getThumb(photos: any): string | null {\n  if (!photos) return null;\n  try {\n    // Ïù¥ÎØ∏ Î∞∞Ïó¥Ïù¥Î©¥ Î∞îÎ°ú Ï≤´ Î≤àÏß∏Í∫º\n    if (Array.isArray(photos)) {\n      return photos.length > 0 ? (photos[0] as string) : null;\n    }\n    // Î¨∏ÏûêÏó¥Ïù¥Î©¥ ÌååÏã±Ìï¥ÏÑú Ï≤´ Î≤àÏß∏Í∫º\n    if (typeof photos === \"string\") {\n      // \"[]\" Îπà Î∞∞Ïó¥ Î¨∏ÏûêÏó¥ Ï≤òÎ¶¨\n      if (photos === \"[]\") return null;\n      const parsed = JSON.parse(photos);\n      if (Array.isArray(parsed) && parsed.length > 0) {\n        return parsed[0];\n      }\n    }\n  } catch (e) {\n    console.error(\"Image Parse Error:\", e);\n    return null;\n  }\n  return null;\n}\n\n// Ïà´Ïûê Ìè¨Îß∑\nconst fmt = (n?: number | null) =>\n  n == null ? \"-\" : new Intl.NumberFormat(\"ko-KR\").format(n);\n\nexport default function ListingCard({\n  item,\n  highlight = false,\n  onHover,\n}: {\n  item: Listing | (Listing & { photos?: unknown });\n  highlight?: boolean;\n  onHover?: (id: number | null) => void;\n}) {\n  const router = useRouter();\n  const { selectedIds, toggleId } = useCompare();\n  const [loading, setLoading] = useState<null | \"listing\" | \"loan\" | \"fitout\">(null);\n\n  const thumb = getThumb((item as any).photos);\n\n  async function startChat(type: \"listing\" | \"loan\" | \"fitout\") {\n    try {\n      setLoading(type);\n      const res = await fetch(\"/api/chat/threads\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({ type, listingId: item.id, title: item.title }),\n      });\n      if (!res.ok) throw new Error(await res.text());\n      const data = await res.json();\n      router.push(`/chat/${data.thread.id}?role=user`);\n    } catch (e: any) {\n      alert(\"Ï±ÑÌåÖÎ∞© Ïó¥Í∏∞ Ïã§Ìå®: \" + e.message);\n    } finally {\n      setLoading(null);\n    }\n  }\n\n  return (\n    <div\n      onClick={() => router.push(`/listing/${item.id}`)}\n      onMouseEnter={() => onHover?.(item.id)}\n      onMouseLeave={() => onHover?.(null)}\n      className={`group flex flex-col bg-white rounded-xl overflow-hidden border shadow-sm transition-all hover:shadow-lg hover:-translate-y-1 ${\n        highlight ? \"border-blue-500 ring-2 ring-blue-200\" : \"border-gray-200\"\n      }`}\n    >\n      {/* üñºÔ∏è ÏÉÅÎã®: Ïù¥ÎØ∏ÏßÄ ÏòÅÏó≠ (ÎπÑÏú® Í≥†Ï†ï) */}\n      <div className=\"relative aspect-[4/3] w-full bg-gray-100 overflow-hidden\">\n        {thumb ? (\n          <Image\n            src={thumb}\n            alt={item.title}\n            fill\n            className=\"object-cover group-hover:scale-105 transition-transform duration-500\"\n          />\n        ) : (\n          <div className=\"flex flex-col items-center justify-center h-full text-gray-400 text-sm\">\n            <span>üì∑</span>\n            <span>No Image</span>\n          </div>\n        )}\n\n        {/* ÎπÑÍµêÌïòÍ∏∞ Ï≤¥ÌÅ¨Î∞ïÏä§ (Ïö∞Ï∏° ÏÉÅÎã®) */}\n        <button\n          onClick={(e) => {\n            e.preventDefault();\n            e.stopPropagation();\n            toggleId(item.id);\n          }}\n          className={`absolute top-2 right-2 z-10 w-8 h-8 rounded-full border shadow-md flex items-center justify-center transition-colors ${\n            selectedIds.includes(item.id)\n              ? \"bg-blue-600 border-blue-600 text-white\"\n              : \"bg-white/90 border-gray-300 text-gray-400 hover:text-blue-500\"\n          }`}\n          title=\"ÎπÑÍµêÌï® Îã¥Í∏∞\"\n        >\n          {selectedIds.includes(item.id) ? \"‚úî\" : \"+\"}\n        </button>\n\n        {/* ÏóÖÏ¢Ö ÌÉúÍ∑∏ (Ï¢åÏ∏° ÏÉÅÎã®) */}\n        <div className=\"absolute top-2 left-2 bg-black/60 text-white text-xs font-bold px-2 py-1 rounded backdrop-blur-sm\">\n          {(item as any).sector || \"ÏóÖÏ¢ÖÎØ∏ÏÉÅ\"}\n        </div>\n      </div>\n\n      {/* üìù Ï§ëÎã®: Ï†ïÎ≥¥ ÏòÅÏó≠ */}\n      <div className=\"p-4 flex-1 flex flex-col\">\n        {/* Îß§Ï∂ú Ïù∏Ï¶ù Î∞∞ÏßÄ */}\n        {(item as any).isRevenueVerified && (\n          <div className=\"mb-2\">\n            <RevenueBadge />\n          </div>\n        )}\n\n        <h3 className=\"font-bold text-lg text-gray-900 mb-1 line-clamp-1\">\n          {item.title}\n        </h3>\n        <p className=\"text-sm text-gray-500 mb-4 line-clamp-1\">\n          {(item as any).address_area || \"Ï£ºÏÜå ÎØ∏ÏûÖÎ†•\"} | {(item as any).area_pyeong ?? 0}Ìèâ\n        </p>\n\n        <div className=\"mt-auto grid grid-cols-2 gap-y-1 text-sm text-gray-700 bg-gray-50 p-3 rounded-lg\">\n          <span className=\"text-gray-500\">Î≥¥Ï¶ùÍ∏à</span>\n          <span className=\"font-semibold text-right\">{fmt((item as any).deposit)}</span>\n          <span className=\"text-gray-500\">ÏõîÏÑ∏</span>\n          <span className=\"font-semibold text-right\">{fmt((item as any).rent_monthly)}</span>\n          <span className=\"text-blue-600 font-bold\">Í∂åÎ¶¨Í∏à</span>\n          <span className=\"text-blue-600 font-bold text-right\">{fmt((item as any).goodwill_price)}</span>\n        </div>\n      </div>\n\n      {/* üîò ÌïòÎã®: Î≤ÑÌäº ÏòÅÏó≠ (ÍπîÎÅîÌïòÍ≤å Ï†ïÎ†¨) */}\n      <div className=\"p-4 pt-0 grid grid-cols-2 gap-2\">\n        <button\n          onClick={() => startChat(\"listing\")}\n          disabled={loading === \"listing\"}\n          className=\"col-span-2 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-lg text-sm font-bold transition-colors\"\n        >\n          {loading === \"listing\" ? \"Ïó∞Í≤∞ Ï§ë...\" : \"üí¨ Îß§Î¨º Î¨∏ÏùòÌïòÍ∏∞\"}\n        </button>\n        <button\n          onClick={() => startChat(\"loan\")}\n          className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg text-xs font-medium\"\n        >\n          üí∞ ÎåÄÏ∂ú Î¨∏Ïùò\n        </button>\n        <button\n          onClick={() => startChat(\"fitout\")}\n          className=\"bg-gray-100 hover:bg-gray-200 text-gray-700 py-2 rounded-lg text-xs font-medium\"\n        >\n          üî® Ïù∏ÌÖåÎ¶¨Ïñ¥\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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","debugId":null}}]
}