{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/RangeBar.tsx"],"sourcesContent":["\"use client\";\n\nimport { CSSProperties, useEffect, useMemo, useState } from \"react\";\n\nfunction clamp(n: number, min: number, max: number) {\n  return Math.min(max, Math.max(min, n));\n}\nconst fmt = (n: number) => new Intl.NumberFormat(\"ko-KR\").format(n);\n\nexport default function RangeBar({\n  label,\n  min,\n  max,\n  step = 100_000,\n  valueMin,\n  valueMax,\n  onChange,\n  barHeight = 44,   // âœ… íŠ¸ë™/ì†ì¡ì´ ë†’ì´(px). ì†ì¡ì´ê°€ ì„¸ë¡œë¡œ ê½‰ ì°¨ë„ë¡ ë™ì¼ ì‚¬ìš©\n  thumbWidth = 12, // âœ… ì†ì¡ì´ ê°€ë¡œ í­(px) â€” ì„¸ë¡œë¡œ ê¸´ ë§‰ëŒ€ ëŠë‚Œ\n  thumbRadius = 6, // âœ… ë‘¥ê·¼ ì‚¬ê° ëª¨ì„œë¦¬\n}: {\n  label: string;\n  min: number;\n  max: number;\n  step?: number;\n  valueMin?: number;\n  valueMax?: number;\n  onChange: (v: { min?: number; max?: number }) => void;\n  barHeight?: number;\n  thumbWidth?: number;\n  thumbRadius?: number;\n}) {\n  const [lo, setLo] = useState<number>(valueMin ?? min);\n  const [hi, setHi] = useState<number>(valueMax ?? max);\n\n  useEffect(() => setLo(valueMin ?? min), [valueMin, min]);\n  useEffect(() => setHi(valueMax ?? max), [valueMax, max]);\n\n  const left = useMemo(() => ((lo - min) / (max - min)) * 100, [lo, min, max]);\n  const right = useMemo(\n    () => 100 - ((hi - min) / (max - min)) * 100,\n    [hi, min, max]\n  );\n\n  const changeLo = (v: number) => {\n    const next = clamp(v, min, hi);\n    setLo(next);\n    onChange({ min: next });\n  };\n  const changeHi = (v: number) => {\n    const next = clamp(v, lo, max);\n    setHi(next);\n    onChange({ max: next });\n  };\n\n  // CSS ë³€ìˆ˜ë¡œ ë†’ì´/í­/ëª¨ì„œë¦¬ ì „ë‹¬ â†’ thumbê°€ íŠ¸ë™ ë†’ì´ë¥¼ ê·¸ëŒ€ë¡œ ì±„ì›€\n  const vars: CSSProperties = {\n    // @ts-expect-error custom props\n    \"--bar-h\": `${barHeight}px`,\n    // @ts-expect-error custom props\n    \"--thumb-w\": `${thumbWidth}px`,\n    // @ts-expect-error custom props\n    \"--thumb-r\": `${thumbRadius}px`,\n  };\n\n  return (\n    <div className=\"w-full\" style={vars}>\n      <div className=\"flex items-center justify-between text-sm mb-1\">\n        <span className=\"text-neutral-700\">{label}</span>\n        <span className=\"text-neutral-600\">\n          {fmt(lo)} ~ {fmt(hi)} ì›\n        </span>\n      </div>\n\n      <div className=\"relative\" style={{ height: \"var(--bar-h)\" }}>\n        {/* íŠ¸ë™ */}\n        <div className=\"absolute inset-0 rounded-full bg-neutral-200\" />\n        {/* ì„ íƒ ì˜ì—­ */}\n        <div\n          className=\"absolute inset-y-0 bg-sky-200 rounded-full\"\n          style={{ left: `${left}%`, right: `${right}%` }}\n        />\n\n        {/* ìµœì†Œ/ìµœëŒ€ ìŠ¬ë¼ì´ë” (ê²¹ì¹¨) */}\n        <input\n          type=\"range\"\n          aria-label={`${label} ìµœì†Œê°’`}\n          min={min}\n          max={max}\n          step={step}\n          value={lo}\n          onChange={(e) => changeLo(Number(e.target.value))}\n          className=\"range\"\n          style={{ zIndex: 30 }}\n        />\n        <input\n          type=\"range\"\n          aria-label={`${label} ìµœëŒ€ê°’`}\n          min={min}\n          max={max}\n          step={step}\n          value={hi}\n          onChange={(e) => changeHi(Number(e.target.value))}\n          className=\"range\"\n          style={{ zIndex: 40 }}\n        />\n\n        {/* ìŠ¤íƒ€ì¼: íŠ¸ë™ì€ ì´ë²¤íŠ¸ ì°¨ë‹¨, Thumbë§Œ ë“œë˜ê·¸.\n           Thumbë¥¼ 'ì„¸ë¡œë¡œ ê¸´ ë‘¥ê·¼ ì‚¬ê°í˜•'ìœ¼ë¡œ í‘œì‹œ(íŠ¸ë™ ë†’ì´=thumb ë†’ì´). */}\n        <style jsx>{`\n          .range {\n            position: absolute;\n            inset: 0;\n            width: 100%;\n            background: transparent;\n            appearance: none;\n            pointer-events: none; /* íŠ¸ë™ í´ë¦­ ë°©ì§€ */\n          }\n          /* WebKit */\n          .range::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            height: var(--bar-h);  /* âœ… íŠ¸ë™ ë†’ì´ì™€ ë™ì¼ â†’ ìœ„ì•„ë˜ ê½‰ ì±„ì›€ */\n            width: var(--thumb-w); /* âœ… ì¢ê³  ì„¸ë¡œë¡œ ê¸´ ì†ì¡ì´ */\n            border-radius: var(--thumb-r);\n            background: #0ea5e9;    /* sky-500 */\n            border: 2px solid #fff; /* ëŒ€ë¹„ */\n            box-shadow: 0 1px 2px rgba(0,0,0,.12);\n            pointer-events: all;    /* Thumbë§Œ ì´ë²¤íŠ¸ í—ˆìš© */\n            cursor: ew-resize;\n          }\n          .range::-webkit-slider-runnable-track {\n            height: var(--bar-h);\n            background: transparent;\n          }\n          .range:focus-visible::-webkit-slider-thumb {\n            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.35);\n          }\n\n          /* Firefox */\n          .range::-moz-range-thumb {\n            height: var(--bar-h);   /* âœ… ë™ì¼ */\n            width: var(--thumb-w);\n            border-radius: var(--thumb-r);\n            background: #0ea5e9;\n            border: 2px solid #fff;\n            box-shadow: 0 1px 2px rgba(0,0,0,.12);\n            pointer-events: all;\n            cursor: ew-resize;\n          }\n          .range::-moz-range-track {\n            height: var(--bar-h);\n            background: transparent;\n          }\n          .range:focus-visible::-moz-range-thumb {\n            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.35);\n          }\n        `}</style>\n      </div>\n\n      <div className=\"mt-1 text-xs text-neutral-500\">\n        ë§‰ëŒ€ë¥¼ ë“œë˜ê·¸í•˜ì—¬ ë²”ìœ„ë¥¼ ì¡°ì ˆí•˜ì„¸ìš”.\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;;AAEA;AAFA;;;;AAIA,SAAS,MAAM,CAAS,EAAE,GAAW,EAAE,GAAW;IAChD,OAAO,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,KAAK;AACrC;AACA,MAAM,MAAM,CAAC,IAAc,IAAI,KAAK,YAAY,CAAC,SAAS,MAAM,CAAC;AAElD,SAAS,SAAS,EAC/B,KAAK,EACL,GAAG,EACH,GAAG,EACH,OAAO,OAAO,EACd,QAAQ,EACR,QAAQ,EACR,QAAQ,EACR,YAAY,EAAE,EACd,aAAa,EAAE,EACf,cAAc,CAAC,EAYhB;IACC,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,iNAAQ,EAAS,YAAY;IACjD,MAAM,CAAC,IAAI,MAAM,GAAG,IAAA,iNAAQ,EAAS,YAAY;IAEjD,IAAA,kNAAS,EAAC,IAAM,MAAM,YAAY,MAAM;QAAC;QAAU;KAAI;IACvD,IAAA,kNAAS,EAAC,IAAM,MAAM,YAAY,MAAM;QAAC;QAAU;KAAI;IAEvD,MAAM,OAAO,IAAA,gNAAO,EAAC,IAAM,AAAC,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAK,KAAK;QAAC;QAAI;QAAK;KAAI;IAC3E,MAAM,QAAQ,IAAA,gNAAO,EACnB,IAAM,MAAM,AAAC,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,GAAG,IAAK,KACzC;QAAC;QAAI;QAAK;KAAI;IAGhB,MAAM,WAAW,CAAC;QAChB,MAAM,OAAO,MAAM,GAAG,KAAK;QAC3B,MAAM;QACN,SAAS;YAAE,KAAK;QAAK;IACvB;IACA,MAAM,WAAW,CAAC;QAChB,MAAM,OAAO,MAAM,GAAG,IAAI;QAC1B,MAAM;QACN,SAAS;YAAE,KAAK;QAAK;IACvB;IAEA,6CAA6C;IAC7C,MAAM,OAAsB;QAC1B,gCAAgC;QAChC,WAAW,GAAG,UAAU,EAAE,CAAC;QAC3B,gCAAgC;QAChC,aAAa,GAAG,WAAW,EAAE,CAAC;QAC9B,gCAAgC;QAChC,aAAa,GAAG,YAAY,EAAE,CAAC;IACjC;IAEA,qBACE,8OAAC;QAAI,WAAU;QAAS,OAAO;;0BAC7B,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAoB;;;;;;kCACpC,8OAAC;wBAAK,WAAU;;4BACb,IAAI;4BAAI;4BAAI,IAAI;4BAAI;;;;;;;;;;;;;0BAIzB,8OAAC;gBAAyB,OAAO;oBAAE,QAAQ;gBAAe;0DAA3C;;kCAEb,8OAAC;kEAAc;;;;;;kCAEf,8OAAC;wBAEC,OAAO;4BAAE,MAAM,GAAG,KAAK,CAAC,CAAC;4BAAE,OAAO,GAAG,MAAM,CAAC,CAAC;wBAAC;kEADpC;;;;;;kCAKZ,8OAAC;wBACC,MAAK;wBACL,cAAY,GAAG,MAAM,IAAI,CAAC;wBAC1B,KAAK;wBACL,KAAK;wBACL,MAAM;wBACN,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;wBAE/C,OAAO;4BAAE,QAAQ;wBAAG;kEADV;;;;;;kCAGZ,8OAAC;wBACC,MAAK;wBACL,cAAY,GAAG,MAAM,IAAI,CAAC;wBAC1B,KAAK;wBACL,KAAK;wBACL,MAAM;wBACN,OAAO;wBACP,UAAU,CAAC,IAAM,SAAS,OAAO,EAAE,MAAM,CAAC,KAAK;wBAE/C,OAAO;4BAAE,QAAQ;wBAAG;kEADV;;;;;;;;;;;;;;;;0BAyDd,8OAAC;gBAAI,WAAU;0BAAgC;;;;;;;;;;;;AAKrD","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/Filters.tsx"],"sourcesContent":["\"use client\";\n\nimport { useMemo } from \"react\";\nimport type { Listing } from \"../lib/mockData\";\nimport RangeBar from \"./RangeBar\";\n\nexport type FilterValue = {\n  q?: string;\n  gu?: string;\n  dong?: string;\n  category?: string;\n\n  minGoodwill?: number;\n  maxGoodwill?: number;\n  minSales?: number;\n  maxSales?: number;\n};\n\nconst GOODWILL_MAX = 200_000_000; // 2ì–µ\nconst SALES_MAX = 120_000_000;    // 1.2ì–µ\nconst STEP = 500_000;\n\nexport default function Filters({\n  items,\n  value,\n  onChange,\n}: {\n  items: Listing[];\n  value: FilterValue;\n  onChange: (v: FilterValue) => void;\n}) {\n  const guOptions = useMemo(\n    () => Array.from(new Set(items.map((x) => x.gu))),\n    [items]\n  );\n\n  const dongOptions = useMemo(() => {\n    const scoped = value.gu ? items.filter((x) => x.gu === value.gu) : items;\n    return Array.from(new Set(scoped.map((x) => x.dong)));\n  }, [items, value.gu]);\n\n  const categoryOptions = useMemo(\n    () => Array.from(new Set(items.map((x) => x.category))),\n    [items]\n  );\n\n  return (\n    <div className=\"space-y-3\">\n      {/* ê²€ìƒ‰/ì§€ì—­/ì—…ì¢… */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-4 gap-2\">\n        <input\n          value={value.q ?? \"\"}\n          onChange={(e) => onChange({ ...value, q: e.target.value })}\n          placeholder=\"í‚¤ì›Œë“œ (ê°€ê²Œëª…)\"\n          className=\"h-10 px-3 rounded-lg border w-full\"\n        />\n        <select\n          value={value.gu ?? \"\"}\n          onChange={(e) =>\n            onChange({ ...value, gu: e.target.value || undefined, dong: undefined })\n          }\n          className=\"h-10 px-3 rounded-lg border w-full\"\n        >\n          <option value=\"\">ì „ì²´ êµ¬</option>\n          {guOptions.map((g) => (\n            <option key={g} value={g}>\n              {g}\n            </option>\n          ))}\n        </select>\n\n        <select\n          value={value.dong ?? \"\"}\n          onChange={(e) => onChange({ ...value, dong: e.target.value || undefined })}\n          className=\"h-10 px-3 rounded-lg border w-full\"\n          disabled={!value.gu}\n        >\n          <option value=\"\">{value.gu ? \"ì „ì²´ ë™\" : \"êµ¬ë¥¼ ë¨¼ì € ì„ íƒ\"}</option>\n          {dongOptions.map((d) => (\n            <option key={d} value={d}>\n              {d}\n            </option>\n          ))}\n        </select>\n\n        <select\n          value={value.category ?? \"\"}\n          onChange={(e) =>\n            onChange({ ...value, category: e.target.value || undefined })\n          }\n          className=\"h-10 px-3 rounded-lg border w-full\"\n        >\n          <option value=\"\">ì „ì²´ ì—…ì¢…</option>\n          {categoryOptions.map((c) => (\n            <option key={c} value={c}>\n              {c}\n            </option>\n          ))}\n        </select>\n      </div>\n\n      {/* ë²”ìœ„ ìŠ¬ë¼ì´ë”ë“¤ */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n        <RangeBar\n          label=\"ê¶Œë¦¬ê¸ˆ ë²”ìœ„\"\n          min={0}\n          max={GOODWILL_MAX}\n          step={STEP}\n          valueMin={value.minGoodwill ?? 0}\n          valueMax={value.maxGoodwill ?? GOODWILL_MAX}\n          onChange={(v) =>\n            onChange({\n              ...value,\n              minGoodwill: v.min ?? value.minGoodwill ?? 0,\n              maxGoodwill: v.max ?? value.maxGoodwill ?? GOODWILL_MAX,\n            })\n          }\n        />\n        <RangeBar\n          label=\"ì›”ë§¤ì¶œ ë²”ìœ„\"\n          min={0}\n          max={SALES_MAX}\n          step={STEP}\n          valueMin={value.minSales ?? 0}\n          valueMax={value.maxSales ?? SALES_MAX}\n          onChange={(v) =>\n            onChange({\n              ...value,\n              minSales: v.min ?? value.minSales ?? 0,\n              maxSales: v.max ?? value.maxSales ?? SALES_MAX,\n            })\n          }\n        />\n      </div>\n\n      <div className=\"flex justify-end\">\n        <button\n          onClick={() =>\n            onChange({\n              ...value,\n              minGoodwill: undefined,\n              maxGoodwill: undefined,\n              minSales: undefined,\n              maxSales: undefined,\n            })\n          }\n          className=\"text-xs text-neutral-600 underline\"\n        >\n          ë²”ìœ„ ì´ˆê¸°í™”\n        </button>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 405, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/ListingCard.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\n// ê¸°ì¡´ ëª©ë°ì´í„° íƒ€ì…ì„ ê³„ì† ì“°ë”ë¼ë„, DBì˜ Json ì»¬ëŸ¼ì„ ê°ì•ˆí•´ì„œ ìœ ì—°í•œ íƒ€ì…ìœ¼ë¡œ ë°›ì.\nimport type { Listing } from \"@/lib/types\";\n\n// ìˆ«ì í¬ë§·\nconst fmt = (n?: number | null) =>\n  n == null ? \"-\" : new Intl.NumberFormat(\"ko-KR\").format(n);\n\n// âœ… photosê°€ string[] | Json(JSON ë¬¸ìì—´) | null ë“± ì—¬ëŸ¬ í˜•íƒœì¼ ìˆ˜ ìˆìœ¼ë‹ˆ\n//    ì•ˆì „í•˜ê²Œ ì²« ë²ˆì§¸ ì‚¬ì§„ URLë§Œ ë½‘ì•„ì˜¤ëŠ” í—¬í¼\nfunction firstPhoto(photos: unknown): string | undefined {\n  if (!photos) return;\n\n  // 1) ì´ë¯¸ ë°°ì—´ì¸ ê²½ìš° (Prisma JsonValueë„ ëŸ°íƒ€ì„ì—ì„  ê·¸ëƒ¥ JS ë°°ì—´)\n  if (Array.isArray(photos) && photos.length && typeof photos[0] === \"string\") {\n    return photos[0] as string;\n  }\n\n  // 2) í˜¹ì‹œ ë¬¸ìì—´(JSON)ë¡œ ë“¤ì–´ì˜¨ ê²½ìš°\n  if (typeof photos === \"string\") {\n    try {\n      const parsed = JSON.parse(photos);\n      if (Array.isArray(parsed) && parsed.length && typeof parsed[0] === \"string\") {\n        return parsed[0] as string;\n      }\n    } catch {\n      // JSON íŒŒì‹± ì‹¤íŒ¨ ì‹œ ë¬´ì‹œ\n    }\n  }\n\n  // 3) ê°ì²´ì¸ë° ë‚´ë¶€ì— ë°°ì—´ì´ ìˆëŠ” íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ëŠ” ê³ ë ¤í•˜ì§€ ì•ŠìŒ(í•„ìš” ì‹œ í™•ì¥)\n  return;\n}\n\nexport default function ListingCard({\n  item,\n  highlight = false,\n  onHover,\n}: {\n  item: Listing | (Listing & { photos?: unknown }); // DB/ëª©ë°ì´í„° í˜¼ìš© ëŒ€ë¹„\n  highlight?: boolean;\n  onHover?: (id: number | null) => void;\n}) {\n  const router = useRouter();\n  const [loading, setLoading] = useState<null | \"listing\" | \"loan\" | \"fitout\">(null);\n\n  // ğŸ”§ ë³€ê²½ í¬ì¸íŠ¸: photosë¥¼ ì•ˆì „í•˜ê²Œ í•´ì„\n  const thumb = firstPhoto((item as any).photos);\n\n  // âœ… ìŠ¤ë ˆë“œ ìƒì„±(ë˜ëŠ” ì¬ì‚¬ìš©) í›„ /chat/[id]?role=user ë¡œ ì´ë™\n  async function startChat(type: \"listing\" | \"loan\" | \"fitout\") {\n    try {\n      setLoading(type);\n      const res = await fetch(\"/api/chat/threads\", {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify({\n          type,               // \"listing\" | \"loan\" | \"fitout\"\n          listingId: item.id, // ë§¤ë¬¼ ê¸°ì¤€ ìŠ¤ë ˆë“œ ì¬ì‚¬ìš© í‚¤\n          title: item.title,  // ì œëª©(ì—†ìœ¼ë©´ null í—ˆìš©)\n        }),\n      });\n\n      const raw = await res.text();\n      if (!res.ok) throw new Error(raw || `POST /api/chat/threads ${res.status}`);\n\n      const data = JSON.parse(raw);\n      const id: string | undefined = data?.thread?.id;\n      if (!id) throw new Error(\"thread id missing\");\n\n      router.push(`/chat/${id}?role=user`);\n    } catch (e: any) {\n      alert(`ì±„íŒ…ë°© ì—´ê¸° ì‹¤íŒ¨: ${e?.message || \"unknown error\"}`);\n    } finally {\n      setLoading(null);\n    }\n  }\n\n  return (\n    <div\n      id={`card-${item.id}`}\n      onMouseEnter={() => onHover?.(item.id)}\n      onMouseLeave={() => onHover?.(null)}\n      className={[\n        \"rounded-2xl bg-white border shadow p-4 transition\",\n        highlight ? \"border-sky-400 ring-2 ring-sky-300\" : \"border-neutral-200\",\n      ].join(\" \")}\n    >\n      <div className=\"flex items-start justify-between gap-4\">\n        <div className=\"flex gap-3\">\n          {/* ì¸ë„¤ì¼ */}\n          <div className=\"relative h-16 w-24 rounded-lg overflow-hidden border bg-neutral-100\">\n            {thumb ? (\n              <Image\n                src={thumb}\n                alt={`${item.title} ì¸ë„¤ì¼`}\n                fill\n                sizes=\"96px\"\n                style={{ objectFit: \"cover\" }}\n              />\n            ) : (\n              <div className=\"h-full w-full grid place-items-center text-xs text-neutral-500\">\n                No image\n              </div>\n            )}\n          </div>\n\n          {/* í…ìŠ¤íŠ¸ */}\n          <div>\n            <div className=\"font-semibold\">\n              {item.title}{\" \"}\n              <span className=\"text-sm text-neutral-500\">\n                {(item as any).category ?? \"\"}\n              </span>\n            </div>\n            <div className=\"text-sm text-neutral-600\">\n              {(item as any).address_area ?? \"\"}\n            </div>\n\n            <div className=\"mt-2 text-sm grid grid-cols-2 gap-x-6 gap-y-1\">\n              <span>ì›”ì„¸ {fmt((item as any).rent_monthly)}</span>\n              <span>ì„ëŒ€ë³´ì¦ê¸ˆ {fmt((item as any).deposit)}</span>\n              <span>ê¶Œë¦¬ê¸ˆ {fmt((item as any).goodwill_price)}</span>\n              <span>ì›”ë§¤ì¶œ {fmt((item as any).monthly_sales)}</span>\n              <span>ì£¼ì°¨ {((item as any).parking_spaces ?? 0) as number}ëŒ€</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"flex flex-col gap-2 shrink-0\">\n          <button\n            onClick={() => startChat(\"listing\")}\n            disabled={loading === \"listing\"}\n            className=\"rounded-lg bg-sky-500 hover:bg-sky-600 disabled:opacity-60 text-white px-3 py-1.5 text-sm\"\n          >\n            {loading === \"listing\" ? \"ì—´ëŠ” ì¤‘â€¦\" : \"ë§¤ë¬¼ë¬¸ì˜\"}\n          </button>\n          <button\n            onClick={() => startChat(\"loan\")}\n            disabled={loading === \"loan\"}\n            className=\"rounded-lg bg-sky-400 hover:bg-sky-500 disabled:opacity-60 text-white px-3 py-1.5 text-sm\"\n          >\n            {loading === \"loan\" ? \"ì—´ëŠ” ì¤‘â€¦\" : \"ëŒ€ì¶œë¬¸ì˜\"}\n          </button>\n          <button\n            onClick={() => startChat(\"fitout\")}\n            disabled={loading === \"fitout\"}\n            className=\"rounded-lg bg-sky-600 hover:bg-sky-700 disabled:opacity-60 text-white px-3 py-1.5 text-sm\"\n          >\n            {loading === \"fitout\" ? \"ì—´ëŠ” ì¤‘â€¦\" : \"ì¸í…Œë¦¬ì–´ë¬¸ì˜\"}\n          </button>\n\n          <Link\n            href={`/listing/${item.id}`}\n            className=\"text-center rounded-lg border px-3 py-1.5 text-sm hover:bg-neutral-50\"\n          >\n            ìƒì„¸\n          </Link>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 682, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/ListingMap.tsx"],"sourcesContent":["// components/ListingMap.tsx\n\"use client\";\n\nimport type { Listing } from \"@/lib/mockData\";\nimport { useEffect, useRef, useState } from \"react\";\n\ndeclare global {\n  interface Window {\n    naver: any;\n    navermap_authFailure?: () => void;\n  }\n}\n\n// âœ… Web JS v3: openapi + ncpClientId (ë™ì‘ í™•ì¸ëœ ë°©ì‹)\nconst NAVER_CLIENT_ID =\n  process.env.NEXT_PUBLIC_NAVER_MAP_CLIENT_ID ?? \"hdlzlfn5o0\";\n\nexport default function ListingMap({\n  items,\n  selectedId,\n  onSelect,\n}: {\n  items: Listing[];\n  selectedId?: number | null;\n  onSelect?: (id: number) => void;\n}) {\n  const mapRef = useRef<HTMLDivElement | null>(null);\n  const mapObj = useRef<any>(null);\n  const markersRef = useRef<Record<number, any>>({});\n  const [loaded, setLoaded] = useState(false);\n  const [authFailed, setAuthFailed] = useState(false);\n\n  // ì¸ì¦ ì‹¤íŒ¨ ì½œë°±\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    window.navermap_authFailure = function () {\n      console.error(\"[NAVER MAP] Authentication Failed\");\n      setAuthFailed(true);\n    };\n  }, []);\n\n  // SDK ë¡œë“œ\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    if (window.naver?.maps) {\n      setLoaded(true);\n      return;\n    }\n    const id = \"naver-map-sdk\";\n    let s = document.getElementById(id) as HTMLScriptElement | null;\n    const src = `https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=${NAVER_CLIENT_ID}&_=${Date.now()}`;\n    if (!s) {\n      s = document.createElement(\"script\");\n      s.id = id;\n      s.async = true;\n      s.defer = true;\n      document.head.appendChild(s);\n    }\n    s.src = src;\n    s.onload = () => {\n      console.log(\"[NAVER MAP] SDK loaded\", { ncpClientId: NAVER_CLIENT_ID });\n      setLoaded(true);\n    };\n    s.onerror = () => console.error(\"[NAVER MAP] SDK load error\");\n  }, []);\n\n  // ì§€ë„/ë§ˆì»¤\n  useEffect(() => {\n    if (!loaded || !mapRef.current || !window.naver?.maps || authFailed) return;\n    const { naver } = window;\n\n    const first = items[0];\n    const center = first\n      ? new naver.maps.LatLng(first.lat, first.lng)\n      : new naver.maps.LatLng(37.5665, 126.9780);\n    const map = new naver.maps.Map(mapRef.current, {\n      center,\n      zoom: 13,\n      zoomControl: true,\n      zoomControlOptions: { position: naver.maps.Position.TOP_RIGHT },\n    });\n    mapObj.current = map;\n\n    // ê¸°ì¡´ ë§ˆì»¤ ì œê±°\n    Object.values(markersRef.current).forEach((m) => m.setMap(null));\n    markersRef.current = {};\n\n    // ë§ˆì»¤ ìƒì„±\n    const bounds = new naver.maps.LatLngBounds();\n    items.forEach((it) => {\n      const pos = new naver.maps.LatLng(it.lat, it.lng);\n      bounds.extend(pos);\n\n      const marker = new naver.maps.Marker({\n        map,\n        position: pos,\n      });\n      markersRef.current[it.id] = marker;\n\n      naver.maps.Event.addListener(marker, \"click\", () => {\n        onSelect?.(it.id);\n        map.panTo(pos);\n      });\n    });\n\n    if (items.length > 1) {\n      map.fitBounds(bounds, { top: 20, left: 20, right: 20, bottom: 20 });\n    }\n  }, [loaded, authFailed, items, onSelect]);\n\n  // ì„ íƒëœ ë§ˆì»¤ë¡œ í¬ì»¤ìŠ¤\n  useEffect(() => {\n    if (!selectedId || !mapObj.current || !window.naver?.maps) return;\n    const marker = markersRef.current[selectedId];\n    if (!marker) return;\n    const pos = marker.getPosition();\n    mapObj.current.panTo(pos);\n    try {\n      marker.setAnimation(window.naver.maps.Animation.BOUNCE);\n      setTimeout(() => marker.setAnimation(null), 700);\n    } catch {}\n  }, [selectedId]);\n\n  return (\n    <div className=\"relative w-full h-64 rounded-2xl border border-neutral-200 overflow-hidden\">\n      <div ref={mapRef} className=\"w-full h-full\" />\n      {!loaded && (\n        <div className=\"absolute inset-0 flex items-center justify-center text-sm\">\n          ì§€ë„ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦\n        </div>\n      )}\n      {authFailed && (\n        <div className=\"absolute inset-0 bg-white/85 backdrop-blur flex items-center justify-center p-4 text-xs\">\n          <div className=\"text-center\">\n            <div className=\"text-red-600 font-semibold mb-1\">\n              ë„¤ì´ë²„ ì§€ë„ ì¸ì¦ ì‹¤íŒ¨\n            </div>\n            <div className=\"text-neutral-700\">\n              Web ì„œë¹„ìŠ¤ URL / ncpClientId ì„¤ì •ì„ í™•ì¸í•˜ì„¸ìš”.\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 838, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/sanghojeong/Desktop/Projects/%EA%B6%8C%EB%A6%AC%EA%B8%88%EC%A4%91%EA%B0%9C%EC%95%B1/shop-transfer-1.0/components/HomePage.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport type { Listing } from \"../lib/mockData\";\nimport Filters, { FilterValue } from \"./Filters\";\nimport ListingCard from \"./ListingCard\";\nimport ListingMap from \"./ListingMap\";\n\nexport default function HomePage({ items }: { items: Listing[] }) {\n  const [selectedId, setSelectedId] = useState<number | null>(null);\n  const [filters, setFilters] = useState<FilterValue>({});\n\n  // í•„í„°ë§\n  const filtered = useMemo(() => {\n    const q = (filters.q || \"\").trim().toLowerCase();\n    return items.filter((it) => {\n      if (filters.gu && it.gu !== filters.gu) return false;\n      if (filters.dong && it.dong !== filters.dong) return false;\n      if (filters.category && it.category !== filters.category) return false;\n      if (q && !it.title.toLowerCase().includes(q)) return false;\n\n      if (\n        filters.minGoodwill != null &&\n        (it.goodwill_price ?? Number.NEGATIVE_INFINITY) < filters.minGoodwill\n      )\n        return false;\n      if (\n        filters.maxGoodwill != null &&\n        (it.goodwill_price ?? Number.POSITIVE_INFINITY) > filters.maxGoodwill\n      )\n        return false;\n\n      if (\n        filters.minSales != null &&\n        (it.monthly_sales ?? Number.NEGATIVE_INFINITY) < filters.minSales\n      )\n        return false;\n      if (\n        filters.maxSales != null &&\n        (it.monthly_sales ?? Number.POSITIVE_INFINITY) > filters.maxSales\n      )\n        return false;\n\n      return true;\n    });\n  }, [items, filters]);\n\n  // ì„ íƒ ì¹´ë“œë¡œ ìŠ¤í¬ë¡¤\n  useEffect(() => {\n    if (!selectedId) return;\n    const el = document.getElementById(`card-${selectedId}`);\n    if (el) el.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n  }, [selectedId]);\n\n  return (\n    <main className=\"max-w-4xl mx-auto p-4 space-y-4\">\n      <h1 className=\"text-xl font-semibold\">STEP 5 â€” ê²€ìƒ‰/í•„í„° + ìƒë‹´</h1>\n\n      {/* í•„í„° */}\n      <Filters items={items} value={filters} onChange={setFilters} />\n\n      {/* ì§€ë„ */}\n      <ListingMap\n        items={filtered}\n        selectedId={selectedId ?? undefined}\n        onSelect={(id) => setSelectedId(id)}\n      />\n\n      {/* ì¹´ë“œ ë¦¬ìŠ¤íŠ¸ */}\n      <div className=\"space-y-3\">\n        {filtered.map((it) => (\n          <ListingCard\n            key={it.id}\n            item={it}\n            highlight={selectedId === it.id}\n            onHover={(id) => setSelectedId(id)}\n          />\n        ))}\n        {filtered.length === 0 && (\n          <div className=\"text-sm text-neutral-600 p-3\">\n            ì¡°ê±´ì— ë§ëŠ” ë§¤ë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.\n          </div>\n        )}\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AANA;;;;;;AAQe,SAAS,SAAS,EAAE,KAAK,EAAwB;IAC9D,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAgB;IAC5D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAc,CAAC;IAErD,MAAM;IACN,MAAM,WAAW,IAAA,gNAAO,EAAC;QACvB,MAAM,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,EAAE,IAAI,GAAG,WAAW;QAC9C,OAAO,MAAM,MAAM,CAAC,CAAC;YACnB,IAAI,QAAQ,EAAE,IAAI,GAAG,EAAE,KAAK,QAAQ,EAAE,EAAE,OAAO;YAC/C,IAAI,QAAQ,IAAI,IAAI,GAAG,IAAI,KAAK,QAAQ,IAAI,EAAE,OAAO;YACrD,IAAI,QAAQ,QAAQ,IAAI,GAAG,QAAQ,KAAK,QAAQ,QAAQ,EAAE,OAAO;YACjE,IAAI,KAAK,CAAC,GAAG,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,IAAI,OAAO;YAErD,IACE,QAAQ,WAAW,IAAI,QACvB,CAAC,GAAG,cAAc,IAAI,OAAO,iBAAiB,IAAI,QAAQ,WAAW,EAErE,OAAO;YACT,IACE,QAAQ,WAAW,IAAI,QACvB,CAAC,GAAG,cAAc,IAAI,OAAO,iBAAiB,IAAI,QAAQ,WAAW,EAErE,OAAO;YAET,IACE,QAAQ,QAAQ,IAAI,QACpB,CAAC,GAAG,aAAa,IAAI,OAAO,iBAAiB,IAAI,QAAQ,QAAQ,EAEjE,OAAO;YACT,IACE,QAAQ,QAAQ,IAAI,QACpB,CAAC,GAAG,aAAa,IAAI,OAAO,iBAAiB,IAAI,QAAQ,QAAQ,EAEjE,OAAO;YAET,OAAO;QACT;IACF,GAAG;QAAC;QAAO;KAAQ;IAEnB,aAAa;IACb,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,YAAY;QACjB,MAAM,KAAK,SAAS,cAAc,CAAC,CAAC,KAAK,EAAE,YAAY;QACvD,IAAI,IAAI,GAAG,cAAc,CAAC;YAAE,UAAU;YAAU,OAAO;QAAS;IAClE,GAAG;QAAC;KAAW;IAEf,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAAwB;;;;;;0BAGtC,8OAAC,iIAAO;gBAAC,OAAO;gBAAO,OAAO;gBAAS,UAAU;;;;;;0BAGjD,8OAAC,oIAAU;gBACT,OAAO;gBACP,YAAY,cAAc;gBAC1B,UAAU,CAAC,KAAO,cAAc;;;;;;0BAIlC,8OAAC;gBAAI,WAAU;;oBACZ,SAAS,GAAG,CAAC,CAAC,mBACb,8OAAC,qIAAW;4BAEV,MAAM;4BACN,WAAW,eAAe,GAAG,EAAE;4BAC/B,SAAS,CAAC,KAAO,cAAc;2BAH1B,GAAG,EAAE;;;;;oBAMb,SAAS,MAAM,KAAK,mBACnB,8OAAC;wBAAI,WAAU;kCAA+B;;;;;;;;;;;;;;;;;;AAOxD","debugId":null}}]
}